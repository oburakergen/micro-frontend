import{L as e,j as t,_ as a,Q as r,$ as s,h as o,i as c,u as n,g as d,S as i}from"./common-DEUjWhYV.js";import{t as l}from"./tigaHealthPhr__loadShare__react__loadShare__-PlbDaU_c.js";import{D as u}from"./index.modern-DaA0Mkma.js";function p(e,t){return Array.isArray(e)?e.includes(t):e===t}const m=l.createContext({});m.displayName="AccordionContext";const y=l.forwardRef(({as:s="div",bsPrefix:o,className:c,children:n,eventKey:d,...i},u)=>{const{activeEventKey:y}=l.useContext(m);return o=e(o,"accordion-collapse"),t.jsx(a,{ref:u,in:p(y,d),...i,className:r(c,o),children:t.jsx(s,{children:l.Children.only(n)})})});y.displayName="AccordionCollapse";const f=l.createContext({eventKey:""});f.displayName="AccordionItemContext";const v=l.forwardRef(({as:a="div",bsPrefix:s,className:o,...c},n)=>{s=e(s,"accordion-body");const{eventKey:d}=l.useContext(f);return t.jsx(y,{eventKey:d,children:t.jsx(a,{ref:n,...c,className:r(o,s)})})});v.displayName="AccordionBody";const x=l.forwardRef(({as:a="button",bsPrefix:s,className:o,onClick:c,...n},d)=>{s=e(s,"accordion-button");const{eventKey:i}=l.useContext(f),u=function(e,t){const{activeEventKey:a,onSelect:r,alwaysOpen:s}=l.useContext(m);return o=>{let c=e===a?null:e;s&&(c=Array.isArray(a)?a.includes(e)?a.filter(t=>t!==e):[...a,e]:[e]),null==r||r(c,o),null==t||t(o)}}(i,c),{activeEventKey:y}=l.useContext(m);return"button"===a&&(n.type="button"),t.jsx(a,{ref:d,onClick:u,...n,"aria-expanded":i===y,className:r(o,s,!p(y,i)&&"collapsed")})});x.displayName="AccordionButton";const h=l.forwardRef(({as:a="h2",bsPrefix:s,className:o,children:c,onClick:n,...d},i)=>(s=e(s,"accordion-header"),t.jsx(a,{ref:i,...d,className:r(o,s),children:t.jsx(x,{onClick:n,children:c})})));h.displayName="AccordionHeader";const C=l.forwardRef(({as:a="div",bsPrefix:s,className:o,eventKey:c,...n},d)=>{s=e(s,"accordion-item");const i=l.useMemo(()=>({eventKey:c}),[c]);return t.jsx(f.Provider,{value:i,children:t.jsx(a,{ref:d,...n,className:r(o,s)})})});C.displayName="AccordionItem";const g=l.forwardRef((a,o)=>{const{as:c="div",activeKey:n,bsPrefix:d,className:i,onSelect:u,flush:p,alwaysOpen:y,...f}=s(a,{activeKey:"onSelect"}),v=e(d,"accordion"),x=l.useMemo(()=>({activeEventKey:n,onSelect:u,alwaysOpen:y}),[n,u,y]);return t.jsx(m.Provider,{value:x,children:t.jsx(c,{ref:o,...f,className:r(i,v,p&&`${v}-flush`)})})});g.displayName="Accordion";const b=Object.assign(g,{Button:x,Collapse:y,Item:C,Header:h,Body:v}),N=new class extends o{constructor(){super(`${c.API}/phr`)}getProcedureList(e){super.get("procedure/find-by-patient",e)}getProcedureData(e,t){super.post("procedure",e,t,!1,!1)}getProcedureDataList(e,t){super.post("procedure/find-by-patient-by-link",e,t,!1,!1)}getReportList(e,t){super.fileGet(`procedure/document?documentId=${e}`,t)}search(e,t,a){let r={field:e.value,value:t};super.post("procedure/search",r,a,!1,!1)}init(e){super.get("lookup-code/get-lookup-data-list/hiev_observation_criterias",e)}getOrderList(e,t){let a=e.procedureCategory?`service-request?serviceRequestType=${e.serviceRequestType}&procedureCategory=${e.procedureCategory}`:`service-request?serviceRequestType=${e.serviceRequestType}`;super.get(a,t,!1)}},S=({serviceRequestType:e,procedureCategory:a})=>{const{t:r}=n(),[s,o]=l.useState([]),[c,p]=l.useState([]),[m,y]=l.useState(!1),[f,v]=l.useState(!1),[x,h]=l.useState(!1),C={DataApi:N,DataGet:"getOrderList",DataGetParams:{serviceRequestType:e,procedureCategory:a},DataDetail:null,DataDelete:null,DataSearch:null,filterSearchInputFunction:"getSearchBox",DataState:s,DataSetState:o,CustomPagination:!0,DataContentState:c,DataContentSetState:p,modalType:x,setModalType:h,modal:f,setModal:v,SearchBox:!0,TableKeyField:"id",pageRowSize:"IMAGING"===e||"RADIOLOGY"===a?20:10,cardLight:!1,cardTitle:null,CardClass:"border-0 lastChildNone procedure-ordered m-2",PermissionPage:"test-lab-results",filterButton:!1,TableColumns:[{dataField:"testName",text:r("RADIOLOGY"===a||"IMAGING"===e?"diagnostic-reports.name":"procedure.test-name"),classes:"border-0 align-middle",headerClasses:"border-0",sort:!0},{dataField:"date",text:r("IMAGING"===e?"diagnostic-reports.test-date":"procedure.ordered-date"),classes:"border-0 align-middle",headerClasses:"border-0 numericSort",sort:!0,formatter:(e,t)=>i(d(t?.date,"DD/MMM/YYYY")),filterValue:(e,t)=>d(t?.date,"DD/MMM/YYYY")},{dataField:"orderingOrgName",text:r("procedure.ordered-by"),classes:"border-0 align-middle",headerClasses:"border-0",sort:!0}]};return t.jsx("div",{className:"SearchBox",children:t.jsx(u,{ReLoadList:m,setReLoadList:y,StaticDataListItem:C})})};export{b as A,S as P,N as a};
