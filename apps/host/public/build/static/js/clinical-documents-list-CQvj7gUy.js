import{h as e,i as t,u as a,j as l,M as s,l as r}from"./common-DEUjWhYV.js";import{t as o}from"./tigaHealthPhr__loadShare__react__loadShare__-PlbDaU_c.js";import{D as i}from"./index.modern-DlizPJF-.js";import"./tigaHealthPhr__mf_v__runtimeInit__mf_v__-DESDpvoH.js";import"./_commonjsHelpers-Dvrxj_Zk.js";import"./preload-helper-Cyd4LpGB.js";import"./index.modern-BcxX8faq.js";import"./Overlay-CK6O43qj.js";const n=new class extends e{constructor(){super(`${t.API}/phr`)}getList(e){super.get("clinical-documents/find-by-patient",e)}getClinicalDocuments(e,t){super.post("clinical-documents/find-by-patient-by-link",e,t,!1,!1)}searchByCategoryAndByType(e,t,a){let l={field:e.value,value:t};super.post("clinical-documents/search-by-category-and-by-type",l,a,!1,!1)}},c=()=>{const[e,t]=o.useState(null),[c,d]=o.useState([]),[m,u]=o.useState([]),[h,p]=o.useState(!1),[S,g]=o.useState(null),[y,x]=o.useState(null),[f,C]=o.useState({Id:"",Name:""}),{t:j}=a(),[b,D]=o.useState(!1),[_,v]=o.useState(),[I,B]=o.useState(),[F,N]=o.useState(!1);let P;"documentView"===I&&(P=l.jsx(s,{modal:F,modaltitleText:j("clinical-documents.report-details"),modalWidth:"50%",toggle:()=>N(!F),component:S?l.jsx("div",{className:"IframeContent pageFile",children:l.jsx("iframe",{width:"100%",height:"100%",src:"data:"+y+";base64,"+S,frameBorder:"0",allowFullScreen:!0})}):l.jsx(r,{alertType:"info",alertText:l.jsxs("p",{className:"mb-0 marginRight20",children:[l.jsx("i",{className:"ico-info"})," "," "+j("data-not-found")]})})}));const T={DataApi:n,DataGet:void 0,DataGetParams:void 0,DataDetail:null,DataDelete:null,DataSearch:null,DataCustom:"getClinicalDocuments",CustomPagination:!0,DataState:c,DataSetState:d,DataContentState:m,DataContentSetState:u,modal:_,setModal:v,SearchBox:!0,deleteIDName:f,TableKeyField:"id",filterSearchInput:!0,filterSearchPlaceholder:j("filter.search"),filterSearchInputFunction:"searchByCategoryAndByType",InputSearchLength:2,CustomPage:!0,CustomSearchIcon:l.jsx("i",{className:"ico-funnel-filter"}),CustomSearchItemsDefault:{label:j("clinical-documents.category"),value:"category:text"},CustomSearchItems:[{label:j("clinical-documents.category"),value:"category:text"},{label:j("filter.type"),value:"type:text"}],deleteComponent:null,detailComponent:null,detailColumnName:null,filterComponent:null,FilterSelectState:h,FilterSelectSetState:p,cardLight:!1,cardTitle:j("clinical-documents.header"),PermissionPage:"documents",newButton:!1,excelButton:!1,filterButton:!1,TableColumns:[{dataField:"category",text:j("clinical-documents.category"),classes:"border-0 align-middle",headerClasses:"border-0",sort:!1},{dataField:"type",text:j("clinical-documents.type"),classes:"border-0 align-middle",headerClasses:"border-0",sort:!1},{dataField:"date",text:j("clinical-documents.date"),classes:"border-0 align-middle",headerClasses:"border-0",sort:!1},{dataField:"detail",text:j("clinical-documents.report"),classes:"border-0 align-middle",headerClasses:"border-0",sort:!1,formatter:(e,t)=>t?.data||t?.contentType?l.jsx("i",{className:"ico-health-report-1 cursor ",onClick:()=>{return g((e=t).data),x(e.contentType),B("documentView"),void N(!0);var e}}):l.jsx("i",{className:"ico-health-report-1 cursor ghostBtn "})}]};return l.jsxs(o.Fragment,{children:[l.jsx("div",{className:"SearchBox",children:l.jsx(i,{ReLoadList:b,setReLoadList:D,DynamicDataListItem:T})}),P]})};export{c as default};
