import{u as e,j as a,S as s,h as l,i as r,k as t,B as n,M as i,R as c,l as d,C as o,ch as h,v as x,g as m}from"./common-DEUjWhYV.js";import{t as j}from"./tigaHealthPhr__loadShare__react__loadShare__-PlbDaU_c.js";import{T as p}from"./Table-BjqSWWQP.js";import"./tigaHealthPhr__mf_v__runtimeInit__mf_v__-DESDpvoH.js";import"./_commonjsHelpers-Dvrxj_Zk.js";import"./preload-helper-Cyd4LpGB.js";const g=l=>{const{setModelData:r,ModelData:t,Data:n}=l,{t:i}=e();return a.jsx("div",{className:"text-right col-auto d-flex",style:{marginBottom:"10px"},children:n?.map(e=>{return l=e,a.jsx("div",{className:"nav",role:"tablist",onClick:()=>r(l),children:a.jsx("a",{href:"#",className:"nav-link "+(t?.id===l?.id?"active":" "),children:s(l?.diseaseModule)?.toUpperCase()})});var l})})},u=new class extends l{constructor(){super(`${r.API}/phr`)}getCarePlanList(e){super.get("care-plan/find-summary-by-patient",e)}getGoalList(e,a){super.get(`care-plan/get-detail-by-care-plan-id?carePlanId=${e}`,a)}CareTeamList(e,a){super.post("care-team/find-by-id-list",e,a,!1)}CareGetTeamList(e,a){super.post("care-team/get-detail-by-id-list",e,a,!1)}},N=l=>{const{CareTeam:r}=l,{t:x,i18n:m}=e(),[g,N]=j.useState(!1),[b,f]=j.useState(!1),{setPageLoading:C}=j.useContext(t);return j.useEffect(()=>{r?.length>0?(C(!0),u.CareGetTeamList(r,e=>{f(e||[])})):f([]),C(!1)},[r]),a.jsxs(j.Fragment,{children:[a.jsxs(n,{size:"sm",variant:"falcon-default",onClick:()=>N(!0),children:[a.jsx("i",{className:"ico-medical-team-doctors"}),x("care-plan.btn-care-team")]}),g&&a.jsx(i,{modal:g,modaltitleText:x("care-plan.btn-care-team"),modalWidth:"65%",alignment:"top",toggle:()=>N(!1),component:a.jsx(c,{children:b?.length>0?b?.map(e=>(e=>a.jsx(o,{lg:6,children:a.jsx(h,{className:"font-sans-serif",children:a.jsx(h.Body,{className:"d-flex gap-3 flex-column flex-sm-row align-items-center",children:a.jsxs(p,{borderless:!0,className:"fs--1 fw-medium mb-0",children:[a.jsx("thead",{className:"visually-hidden",children:a.jsxs("tr",{children:[a.jsx("th",{"aria-label":"health-care-team"}),a.jsx("th",{"aria-label":"health-care-team"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"p-1 bold",style:{width:"35%"},children:x("care-plan.name")}),a.jsx("td",{className:"p-1 text-600",children:s(e?.name)})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"p-1 bold",style:{width:"35%"},children:x("care-plan.organization")}),a.jsx("td",{className:"p-1 text-600",children:s(e?.performingOrgName)})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"p-1 bold",style:{width:"35%"},children:x("care-plan.profession")}),a.jsx("td",{className:"p-1",children:s(e?.profession)})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"p-1 bold",style:{width:"35%"},children:x("care-plan.department")}),a.jsx("td",{className:"p-1",children:s(e?.department)})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"p-1 bold",style:{width:"35%"},children:x("care-plan.contact-info")}),a.jsx("td",{className:"p-1",children:s(e?.mobilePhoneNumber)})]})]})]})})})}))(e)):a.jsx("div",{children:a.jsx(d,{alertType:"info",alertText:a.jsxs("p",{className:"mb-0 marginRight20",children:[a.jsx("i",{className:"ico-info"})," "," "+x("data.no-record")]})})})})})]})},b=({ActivitiesData:s})=>{const{t:l}=e(),r=(e,s)=>a.jsx(o,{lg:12,children:a.jsx(x,{cardClass:"CardDetail ",cardLight:!1,cardHeader:null,cardTitle:l(`care-plan.${e?.activityType}`),cardContent:e?.activityNames?.length>0?a.jsx(c,{className:"InformationCard",children:a.jsx("ul",{children:e?.activityNames?.map((e,s)=>a.jsx("li",{children:e},s))})}):a.jsx(d,{alertType:"info",alertText:a.jsx("p",{className:"mb-0 marginRight20",children:l("care-plan.no-record")})})})},s);return a.jsx(x,{cardClass:"CardCreate BorderNone bg2",cardLight:!1,cardHeader:null,cardTitle:a.jsxs(j.Fragment,{children:[a.jsx("div",{className:"Icon title-icon bg2",children:a.jsx("i",{className:"ico-time-2 icon"})}),l("care-plan.activities")]}),cardContent:a.jsx("div",{className:"detail-content",children:s?.length>0?a.jsx(c,{children:a.jsxs(a.Fragment,{children:[a.jsx(o,{lg:6,children:a.jsx(c,{children:s.map((e,a)=>a%2==0?r(e,a):null)})}),a.jsx(o,{lg:6,children:a.jsx(c,{children:s.map((e,a)=>a%2!=0?r(e,a):null)})})]})}):a.jsx(d,{className:"padding-20",alertType:"info",alertText:a.jsxs("p",{className:"mb-0 marginRight20",children:[a.jsx("i",{className:"ico-info"})," "," "+l("data.no-record")]})})})})},f=l=>{const{GoalData:r}=l,{t:t}=e();return a.jsx(x,{cardClass:"CardCreate bg1",cardLight:!1,cardHeader:null,cardTitle:a.jsxs(j.Fragment,{children:[a.jsx("div",{className:"Icon title-icon bg1",children:a.jsx("i",{className:"ico-goal icon"})}),t("care-plan.goals")]}),cardContent:a.jsx(j.Fragment,{children:r?.length>0?a.jsx("div",{className:"goals",children:a.jsx(j.Fragment,{children:a.jsx("div",{className:"card-view react-bootstrap-table",children:a.jsxs(p,{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsxs("th",{children:[" ",t("care-plan.goals")]}),a.jsx("th",{className:"number-center",children:t("care-plan.lower-limit")}),a.jsx("th",{className:"number-center",children:t("care-plan.upper-limit")}),a.jsx("th",{children:t("care-plan.start-date")}),a.jsx("th",{children:t("care-plan.end-date")})]})}),a.jsx("tbody",{children:r&&r?.map((e,l)=>a.jsxs("tr",{children:[a.jsx("td",{children:s(e?.goalName)}),a.jsx("td",{className:"number-center",children:s(e?.lowerLimit)}),a.jsx("td",{className:"number-center",children:s(e?.upperLimit)}),a.jsx("td",{children:m(e?.startDate,"DD/MMM/YYYY")}),a.jsx("td",{children:m(e?.endDate,"DD/MMM/YYYY")})]},l))})]})})})}):a.jsx(d,{alertType:"info",alertText:a.jsxs("p",{className:"mb-0 marginRight20",children:[a.jsx("i",{className:"ico-info"})," "," "+t("data.no-record")]})})})})},C=l=>{const{EducationMaterials:r}=l,{t:t}=e();return a.jsx(x,{cardClass:"CardCreate bg3 carePlanEducation",cardLight:!1,cardHeader:null,cardTitle:a.jsxs(j.Fragment,{children:[a.jsx("div",{className:"Icon title-icon bg3",children:a.jsx("i",{className:"ico-file-document icon"})}),t("care-plan.education-materials")]}),cardContent:r?.length>0?a.jsxs(p,{children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:t("care-plan.titleField")}),a.jsx("th",{children:t("care-plan.action")})]})}),a.jsx("tbody",{children:r?.map((e,l)=>a.jsxs("tr",{children:[a.jsx("td",{children:s(e?.name)}),a.jsx("td",{children:a.jsxs("button",{type:"button",className:"cursor border-0 bg-transparent p-0 button-link-href",onClick:()=>window.open(e?.url,"_blank","noopener,noreferrer"),"aria-label":"Open health report PDF in a new tab",children:[e?.url?a.jsx("i",{className:"ico-health-report-1 cursor"}):a.jsx("i",{className:"ico-health-report-1 cursor ghostBtn "}),a.jsx("i",{className:"ico-health-report-1 icon cursor"})]})})]},l))})]}):a.jsx(d,{className:"padding-20",alertType:"info",alertText:a.jsxs("p",{className:"mb-0 marginRight20",children:[a.jsx("i",{className:"ico-info"})," "," "+t("data.no-record")]})})})},T=l=>{const{FinalNotes:r}=l,{t:t}=e();return a.jsx(x,{cardClass:"CardCreate bg4",cardLight:!1,cardHeader:null,cardTitle:a.jsxs(j.Fragment,{children:[a.jsx("div",{className:"Icon title-icon bg4",children:a.jsx("i",{className:"ico-pencil icon"})}),t("care-plan.final-notes")]}),cardContent:r?.length>0?a.jsx("ul",{children:r.map((e,l)=>a.jsx("li",{children:s(e)},l))}):a.jsx(d,{alertType:"info",alertText:a.jsxs("p",{className:"mb-0 marginRight20",children:[a.jsx("i",{className:"ico-info"})," "," "+t("data.no-record")]})})})},y=e=>{const{ViewId:s,setCareTeam:l}=e,[r,t]=j.useState({});j.useEffect(()=>{s&&n()},[s]);const n=()=>{u.getGoalList(s,e=>{t(e||{}),l(e?.careTeamId)})};return a.jsxs(c,{className:"CarePlanIndex",children:[r?.goals?.length>0&&a.jsx(o,{lg:12,children:a.jsx(f,{GoalData:r?.goals})}),r?.activities?.length>0&&a.jsx(o,{lg:12,children:a.jsx(b,{ActivitiesData:r?.activities})}),r?.documents?.length>0&&a.jsx(o,{lg:12,children:a.jsx(C,{EducationMaterials:r?.documents})}),r?.finalNotes?.length>0&&a.jsx(o,{lg:12,children:a.jsx(T,{FinalNotes:r?.finalNotes})})]})},v=()=>{const{t:l}=e(),[r,n]=j.useState(null),[i,h]=j.useState(null),[p,b]=j.useState([]),{setPageLoading:f}=j.useContext(t);j.useEffect(()=>{C()},[]);const C=()=>{f(!0),u.getCarePlanList(e=>{e&&(h(e),n(e[0])),f(!1)})};return a.jsx(x,{cardClass:"HeaderTab CarePlanCard care-plan-card",cardLight:!1,cardHeader:a.jsx(g,{setModelData:n,ModelData:r,Data:i}),cardTitle:a.jsxs(j.Fragment,{children:[a.jsx("div",{className:"Icon title-icon bg3 mr-2",children:a.jsx("i",{className:"ico-healthcare-1 icon"})}),l("care-plan.title")]}),cardContent:a.jsx(x,{cardClass:"CarePlanBg CardCreate",cardLight:!1,cardHeader:null,cardTitle:null,cardContent:a.jsx("div",{style:{marginTop:"-45px"},children:r?a.jsx(c,{children:a.jsxs(o,{lg:12,children:[r&&a.jsxs(j.Fragment,{children:[a.jsxs("div",{className:"planTitle",children:[a.jsxs("h3",{style:{margin:"0 3px 15px 0"},children:[l("care-plan.current")+" ",s(r?.diseaseModule)," "+l("care-plan.title")]}),a.jsxs("div",{className:"text-right",children:[a.jsx(N,{CareTeam:p}),a.jsx("div",{className:"CarePlanBadge play",children:l("care-plan.current")})]})]}),a.jsx(d,{alertType:"light",alertIcon:a.jsx("i",{className:"ico-stethoscope-4 font-size-38"}),alertHeader:null,alertText:a.jsx(j.Fragment,{children:a.jsxs(c,{className:"InformationCard",children:[a.jsx(o,{lg:4,children:a.jsxs("p",{children:[a.jsx("span",{children:l("care-plan.diagnosis")}),s(r?.diagnosis)]})}),a.jsx(o,{lg:3,children:a.jsxs("p",{children:[a.jsx("span",{children:l("care-plan.tracking-type")}),s(r?.trackingType)]})}),a.jsx(o,{lg:3,children:a.jsxs("p",{children:[a.jsx("span",{children:l("care-plan.last-follow-date")}),m(r?.lastFollowUpDate,"DD/MMM/YYYY")]})}),a.jsx(o,{lg:2,children:a.jsxs("p",{children:[a.jsx("span",{children:l("care-plan.next-follow-date")}),m(r?.nextFollowUpDate,"DD/MMM/YYYY")]})})]})})})]}),a.jsx(y,{ViewId:r?.id,setCareTeam:b})]})}):a.jsx(d,{alertType:"info",alertText:a.jsxs("p",{className:"mb-0 marginRight20",children:[a.jsx("i",{className:"ico-info"})," "," "+l("care-plan.none-care-plan")]})})})})})};export{v as default};
