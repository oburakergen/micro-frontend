import{u as e,c as s,j as a,C as t,S as n,T as i,d as l,e as r,B as o,f as c,g as d,h as m,i as h,k as u,M as x,l as j,N as p,R as g,m as b,n as N,o as v,F as f,p as y,q as C,r as S,v as I}from"./common-DEUjWhYV.js";import{t as T}from"./tigaHealthPhr__loadShare__react__loadShare__-PlbDaU_c.js";import{P as w}from"./partial-body-mass-index-BwAaVxj0.js";import{s as D}from"./procedure-card-CLlm88W2.js";import{A as k}from"./procedure-ordered-list-IFoFyNe4.js";import{V as P}from"./vaccinations-api-DFpRhW7d.js";import{C as M}from"./create-vaccinations-pdf-B-eQiwkB.js";import{E as B,a as L,S as E}from"./evaluate-facility-DfJoYFUi.js";import{P as R}from"./partial-maps-aMoiqSbV.js";import{D as A}from"./dashboard-api-CaDzrB6T.js";import"./tigaHealthPhr__mf_v__runtimeInit__mf_v__-DESDpvoH.js";import"./_commonjsHelpers-Dvrxj_Zk.js";import"./preload-helper-Cyd4LpGB.js";import"./Table-BjqSWWQP.js";import"./test-lab-result-list-CHepZLah.js";import"./index.modern-DaA0Mkma.js";import"./index.modern-BcxX8faq.js";import"./Overlay-CK6O43qj.js";import"./test-lab-result-api-D8qjqByn.js";import"./animated-CKDtMyWa.js";import"./procedure-list-DeVh27s1.js";import"./radiology-87NqUUlx.js";import"./other-diagnostic-reports-DeqqnXzL.js";const F=({data:i})=>{const{t:l,i18n:r}=e(),o=s(e=>e.roleManageStore.PatientPhysical),[c,d]=T.useState();let m=localStorage.getItem("locale");T.useEffect(()=>{o&&h()},[o,r.language,localStorage.getItem("locale"),i]);const h=()=>{d(i&&i)};return a.jsx(t,{lg:4,children:a.jsxs("div",{className:"DashboardCard small bg1 primary-care-phys-card",children:[a.jsx("div",{className:"DashboardBorder"}),a.jsx("i",{className:"ico-doctor-1 CardIcon"}),a.jsx("div",{className:"header",children:a.jsx("h3",{children:l("dashboard.family-physician-information")})}),a.jsx("div",{className:"DashboardContent",children:a.jsxs("ul",{className:"mb-0 ps-0 priary-care-phys-list",children:[a.jsx("li",{children:n(c?.fullName)}),a.jsx("li",{children:n(c?.facilityZone)}),a.jsx("li",{children:n("ar"===m&&null!==c?.arabicFacilityName?c?.arabicFacilityName:c?.facilityName)})]})})]})})},O=s=>{const{data:t}=s,[n,l]=T.useState([]),[r,o]=T.useState(!1),{t:c}=e();T.useEffect(()=>{t&&d()},[t]);const d=()=>{l(t)};return T.useEffect(()=>{n&&n?.map(e=>{if(e?.hasRisk)return o(!0)})},[n]),a.jsx("div",{className:"col-lg-4",children:a.jsxs("div",{className:"DashboardCard small bg4 DashboardList",children:[a.jsx("div",{className:"DashboardBorder"}),a.jsx("i",{className:"ico-heart-2 CardIcon"}),a.jsx("div",{className:"header",children:a.jsx("h3",{children:c("dashboard.modifiable-cardiovascular-risk-factor")})}),a.jsx("div",{className:"DashboardContent",children:n?.length>0?a.jsx("ul",{children:n?.map((e,s)=>{const t=c(e?.hasRisk?"dashboard.risk-factors-not-found":"dashboard.risk-factors-found");return a.jsxs("li",{className:"dasboard-content-list",children:[a.jsx(i,{label:t,position:"top",children:a.jsx("div",{className:e?.hasRisk?"passive":"active"})}),e?.name]},s)})}):a.jsx("h3",{className:"length-zero-bg4",children:"-"})}),a.jsx("b",{children:c(n?.length>0&&r?"dashboard.consult-risk-factor":"dashboard.non-risk-factor")})]})})},H=({eventKey:s,title:t,iconClass:n,viewAllLink:i,viewAllPermission:c,children:d,cardClass:m="",defaultOpen:h=!1})=>{const[u,x]=T.useState(h?s:null),j=u===s,p=()=>x(j?null:s),{t:g}=e();return a.jsxs("div",{className:`accordion-dashboard-card DashboardCard bg5 ${m} ${j?"open-card":""}`,children:[a.jsx("div",{className:"DashboardBorder"}),n&&a.jsx("i",{className:`${n} CardIcon`}),a.jsx(k,{activeKey:u,children:a.jsxs(k.Item,{eventKey:s,className:"border-0 bg-transparent",children:[a.jsxs("div",{className:"header d-flex justify-content-between align-items-center",onClick:p,style:{cursor:"pointer"},children:[a.jsx("div",{className:"d-flex align-items-center gap-2",children:a.jsx("h3",{className:"mb-0",children:t})}),a.jsxs("div",{className:"d-flex align-items-center",children:[i&&c&&a.jsx(l,{resourceName:c,permission:"read",type:"button",children:a.jsx("span",{className:"mr-2",children:a.jsx(r.Link,{to:i,children:a.jsx(o,{variant:"falcon-default",size:"sm",className:"mr-2 view-all-button",children:g("button.view-all")})})})}),a.jsx("button",{type:"button",className:"chevron-toggle "+(j?"open":""),"aria-label":"Toggle accordion",onClick:e=>{e.stopPropagation(),p()}})]})]}),a.jsx(k.Body,{className:"p-0",children:a.jsx("div",{className:"DashboardContent",children:d})})]})})]})},_=({data:s})=>{const[n,i]=T.useState([]),{t:l}=e();return T.useEffect(()=>{s&&i(s)},[s]),a.jsx(t,{lg:12,children:a.jsx(H,{title:l("dashboard.latest-prescriptions"),iconClass:"ico-medicine",viewAllLink:"/medications-and-prescriptions",viewAllPermission:"menu.medications",cardClass:"bg3 medicationReminderCard",defaultOpen:!1,children:a.jsxs("div",{className:"DashboardContent-inner",children:[a.jsx("div",{className:"width75",children:D(n)}),a.jsx(c,{className:"height-160",children:n&&n.length>0?n.slice(0,3).map((e,s)=>a.jsxs("p",{className:"mb-2",children:[a.jsx("b",{children:e?.prescriptionNumber}),a.jsx("br",{}),a.jsxs("span",{children:[l("prescription.status"),": ",l(e?.prescriptionStatus)]}),a.jsx("br",{}),a.jsxs("span",{children:[l("prescription.label-prescribing-organization"),":"," ",e?.organizationName]}),a.jsx("br",{}),a.jsxs("span",{children:[l("prescription.prescription-date"),":"," ",d(e?.prescriptionDate,"DD/MMM/YYYY")]})]},s)):a.jsx("span",{})})]})})})},Y=s=>{const{data:n}=s,[i,l]=T.useState([]),{t:r}=e();return T.useEffect(()=>{n&&l(n)},[n]),a.jsx(t,{lg:12,children:a.jsxs(H,{eventKey:"lab-results",title:r("test-lab-result.dashboard-title"),iconClass:"ico-lab1",viewAllLink:"/lab-results",viewAllPermission:"menu.test-lab-result",cardClass:"labResultsCard",defaultOpen:!1,children:[a.jsx("div",{className:"width75",children:D(i)}),a.jsx(c,{className:"height-160",children:i&&i.length>0?i.map((e,s)=>a.jsxs("div",{children:[a.jsx("h4",{className:"mb-1 fw-semi-bold text-700",children:e?.display}),a.jsxs("p",{className:"mb-2",children:[r("test-lab-result.label-institution-name"),":"," ",e?.performingOrgName,a.jsx("br",{}),r("test-lab-result.date"),":"," ",e?.effective?.value?d(e?.effective?.value,"DD/MMM/YYYY"):"-"]})]},s)):a.jsx("span",{})})]})})},z=new class extends m{constructor(){super(`${h.API}/phr`)}getCovidVaccineCertificate(e,s){super.get(`covid-vaccination/certificate-details?requesterId=${e}`,s)}getPublicServices(e,s){super.get(`public-services?page=${e?.pageIndex}&size=${e?.pageSize}&sort=${e.sortField},${e.sortOrder}`,s)}},$=({data:s})=>{const{t:n}=e(),i=localStorage.getItem("locale"),[l,r]=T.useState([]),[o,d]=T.useState(0),m=T.useRef(null),[h,u]=T.useState(!0);return T.useEffect(()=>{0===o?s&&(r(s),u(20===s.length)):(e=>{const s={pageSize:20,pageIndex:e,sortField:"id",sortOrder:"desc",unPaged:!1};z.getPublicServices(s,e=>{if(e?.content?.length){const s=[...e.content].sort((e,s)=>e.orderNumber-s.orderNumber);r(e=>[...e,...s]),u(20===e?.content?.length)}})})(o)},[o,s]),a.jsx(t,{lg:12,children:a.jsx(H,{title:n("dashboard.public-services"),iconClass:"ico-network-4",cardClass:"bg5 publicServices",defaultOpen:!1,children:a.jsx("div",{className:"DashboardContent-inner",children:a.jsx(c,{className:"height-160",ref:m,onScroll:()=>{const e=m.current;if(e){const{scrollTop:s,scrollHeight:a,clientHeight:t}=e;s+t>=a&&h&&d(e=>e+1)}},children:a.jsx("ul",{className:"mb-2 p-0",style:{listStyleType:"none"},children:l.length>0?l.map(e=>a.jsx("li",{children:a.jsx("a",{href:"ar"===i?e.urlAr:e.url,target:"_blank",rel:"noopener noreferrer",children:a.jsx("b",{children:"ar"===i?e.displayNameAr:e.displayName})})},e.id)):a.jsx("span",{})})})})})})},V=()=>{const{t:n,i18n:i}=e(),{setPageLoading:l}=T.useContext(u),[r,o]=T.useState(!1),[d,m]=T.useState(!1),[h,g]=T.useState(!1),[b,N]=T.useState(null),[v,f]=T.useState(null),[y,C]=T.useState(null),S=s(e=>e.roleManageStore.PatientPhysical),[I]=M(),w=e=>{e?g(!1):m(!1),N(null)};return a.jsxs(t,{lg:12,children:[r&&a.jsx(x,{modal:r,modaltitleText:n("dashboard.covid-vaccine-certificate"),modalWidth:"65%",toggle:()=>o(!1),component:v?a.jsx("div",{className:"IframeContent pageFile",children:a.jsx("iframe",{width:"100%",height:"100%",src:v,frameBorder:"0",allowFullScreen:!0})}):a.jsx(j,{alertType:"info",alertText:a.jsxs("p",{className:"mb-0 marginRight20",children:[a.jsx("i",{className:"ico-info"})," ",y||n("dashboard.no-vaccine")]})})}),d&&a.jsx(x,{modal:d,modaltitleText:n("vaccination.vaccination-childhood-card"),modalWidth:"65%",toggle:()=>w(!1),component:a.jsx("div",{className:"IframeContent vaccination",children:a.jsx("iframe",{width:"100%",height:"100%",src:b,frameBorder:"0",allowFullScreen:!0})})}),h&&a.jsx(x,{modal:h,modaltitleText:n("vaccination.adult-vaccination-card"),modalWidth:"65%",toggle:()=>w(!0),component:a.jsx("div",{className:"IframeContent vaccination",children:a.jsx("iframe",{width:"100%",height:"100%",src:b,frameBorder:"0",allowFullScreen:!0})})}),a.jsx(H,{title:n("dashboard.download-center"),iconClass:"ico-download-5",cardClass:"bg2 downloadCenter",defaultOpen:!1,children:a.jsx("div",{className:"DashboardContent-inner",children:a.jsx(c,{className:"height-160",children:a.jsxs("ul",{className:"mb-2 p-0",style:{listStyleType:"none"},children:[a.jsx("li",{children:a.jsx("b",{onClick:()=>{l(!0),P.getCard("ROUTINE_CHILDHOOD",e=>{e&&(l(!1),I(N,"ROUTINE_CHILDHOOD"),m(!0))})},className:"cursor",children:n("dashboard.childhood-vaccination")})}),a.jsx("li",{children:a.jsx("b",{onClick:()=>{l(!0),P.getCard("ROUTINE_ADULT",e=>{e&&(l(!1),I(N,"ROUTINE_ADULT"),g(!0))})},className:"cursor",children:n("dashboard.adult-vaccination")})}),a.jsx("li",{children:a.jsx("a",{href:`https://dhp.moph.gov.qa/${i.language||"en"}/Pages/ValidateEJaza.aspx`,target:"_blank",rel:"noopener noreferrer",children:a.jsx("b",{children:n("dashboard.sick-leave-certificate")})})}),a.jsx("li",{children:a.jsx("b",{onClick:()=>{l(!0);const e=S?.nationalId&&"-"!==S?.nationalId?S?.nationalId:S?.passportNumber||"-";z.getCovidVaccineCertificate(e,e=>{"success"===e?.ResponseStatus?(f(e?.URL),o(!0)):"fail"===e?.ResponseStatus?(C(n("dashboard.no-vaccine")),o(!0)):p.Error(n("dashboard.covid-error-message")),l(!1)})},className:"cursor",children:n("dashboard.covid-vaccine-certificate")})})]})})})})]})},q=s=>{const{data:n}=s,[i,l]=T.useState([]),{t:r}=e();T.useEffect(()=>{n&&l(n)},[n]);const o=e=>{switch(e){case"8867-4":return"vital-sign.label-heart-rate";case"2708-6":return"vital-sign.label-SPO2-level";case"85354-9":return"vital-sign.label-blood-pressure";case"2339-0":return"vital-sign.label-blood-glucose";case"8302-2":return"vital-sign.label-height";case"29463-7":return"vital-sign.label-weight";default:return""}},d=e=>{const s=e?.components;if(s&&s.length>0){const e=s.find(e=>"8480-6"===e.code),a=s.find(e=>"8462-4"===e.code);if(e&&a)return`${Number(e?.observationValue?.value).toFixed(2)} / ${Number(a?.observationValue?.value).toFixed(2)} ${e?.observationValue?.unit}`}return"-"};return a.jsx(t,{lg:12,children:a.jsx(H,{title:r("dashboard.vital-sings"),iconClass:"ico-cardiogram-1",viewAllLink:"/vital-signs",viewAllPermission:"menu.vital-signs",cardClass:"bg9 vital-signs-dashboard-card",defaultOpen:!1,children:a.jsxs("div",{className:"DashboardContent-inner",children:[a.jsx("div",{className:"width75",children:D(i)}),a.jsx(c,{className:"height-160",children:i&&i.length>0?i.map((e,s)=>a.jsxs("p",{className:"mb-2 w50",children:[r(o(e?.code)),a.jsx("br",{}),a.jsx("b",{children:"85354-9"===e?.code?d(e):e?.observationValue?`${Number(e?.observationValue?.value).toFixed(2)} ${e?.observationValue?.unit||""}`:"-"})]},s)):a.jsx("span",{})})]})})})},U=s=>{const{data:i,phrId:l}=s,{t:o}=e(),m=r.useNavigate(),{config:{isRTL:h}}=T.useContext(u),[x,j]=T.useState(!1),[p,g]=T.useState([]),[b,N]=T.useState({id:null,organizationName:null,healthcareService:null,careSetting:null,reason:null,participant:null,date:null,modal:!1,evaluation:0});T.useEffect(()=>{i&&g(i)},[i]),T.useEffect(()=>{b.modal||m("/")},[b.modal]);const v=(e,s)=>{N({id:e.id,organizationName:e?.performingOrgName,healthcareServiceName:e?.healthcareServiceName,careSetting:e?.careSetting,participant:e?.physicianNames,reason:e?.reasonCodeDisplay,encounterAddressDTO:e?.encounterAddressDTO,admissionDate:e?.admissionDate,dischargeDate:e?.dischargeDate,modal:s,evaluation:e?.evaluation}),!s&&j(!0)};return a.jsxs(t,{lg:12,children:[x&&a.jsx(B,{setModal:j,modal:x,ModelData:b,phrId:l,getEncounterList:()=>g(i)}),b.modal&&a.jsx(L,{EncounterModal:b,setEncounterModal:N}),a.jsx(H,{title:o("dashboard.previous-visits"),iconClass:"ico-hospital",viewAllLink:"/visits-history",viewAllPermission:"menu.visits",cardClass:"bg7 previous-visits-dashboard-card",defaultOpen:!1,children:a.jsxs("div",{className:"DashboardContent-inner PreviousVisits",children:[a.jsx("div",{className:"width75",children:D(p)}),a.jsx(c,{className:"height-160",children:p?.length>0&&a.jsx("ul",{className:"list-unstyled management-calendar-events",children:p.slice(0,5).map((e,s)=>a.jsx("li",{className:"border-bottom",children:a.jsxs("div",{className:"mt-1 d-flex justify-content-between",children:[a.jsxs("div",{className:"cursor",onClick:()=>v(e,!0),children:[a.jsx("h4",{className:"mb-1 fw-semi-bold text-700",children:e?.organizationName}),a.jsxs("p",{className:"fs--2 text-600 mb-0",children:[`${o("dashboard.label-healthcare-service")} : ${e?.healthcareServiceName}`,a.jsx("br",{}),`${o("encounter-visit.class")} : `,"Ambulatory"===e?.careSetting?"OutPatient":n(e?.careSetting),a.jsx("br",{}),`${o("encounter-visit.date")} : `,"Inpatient"===e?.careSetting?`${d(e?.admissionDate,"DD/MMM/YYYY")} - ${d(e?.dischargeDate,"DD/MMM/YYYY")}`:"Emergency"===e?.careSetting?`${d(e?.admissionDate,"DD/MMM/YYYY - HH:mm")} ~ ${d(e?.dischargeDate,"DD/MMM/YYYY - HH:mm")}`:("Outpatient"===e?.careSetting||"Ambulatory"===e?.careSetting)&&d(e?.admissionDate,"DD/MMM/YYYY")]})]}),a.jsx("div",{className:0===e?.evaluation?"cursor":"",onClick:()=>v(e,!1),children:a.jsx(E,{className:"d-block StarRatingEncounter",rating:e?.evaluation,readonly:e?.evaluation>0,onClick:()=>v(e,!1)})})]})},s))})})]})})]})},W=s=>{const{data:l}=s,{t:m,i18n:h}=e(),u=T.useRef(null),[x,p]=T.useState([]),[b,N]=T.useState([]);T.useEffect(()=>{l&&p(l)},[l]),T.useEffect(()=>{x?.length>0&&v()},[x,h.language]);const v=()=>{let e=[];x.length>0&&x.map(s=>{s?.location&&e.push({name:s.performingOrgName,location:[s.location[0]?s.location[0]:0,s.location[1]?s.location[1]:0]})}),N(e)};return a.jsx(T.Fragment,{children:a.jsx(t,{lg:12,children:a.jsxs("div",{className:"DashboardCard bg8 future-appointments-dashboard-card",children:[a.jsx("div",{className:"DashboardBorder"}),a.jsxs("div",{className:"header",children:[a.jsx("h3",{children:m("dashboard.future-appointments")}),a.jsx("span",{children:a.jsx(r.Link,{to:"/appointments",children:a.jsx(o,{variant:"falcon-default",size:"sm",className:"mr-2",children:m("button.view-appoitnments")})})})]}),a.jsx("div",{className:"DashboardContent FutureAppointments",children:x?.length>0?a.jsx(c,{className:"height-185",children:a.jsxs(g,{children:[a.jsx(t,{lg:4,children:a.jsx(c,{className:"height-160",children:x?.length>0&&a.jsx("ul",{className:"list-unstyled management-calendar-events",children:x&&x.map((e,s)=>a.jsx("li",{className:"border-bottom "+(JSON.stringify(b[0]?.location)===JSON.stringify(e.location)?"selected":""),children:a.jsxs("div",{className:" ps-3 mt-2 mb-2 ",style:{display:"flex",justifyContent:"space-between"},children:[a.jsxs("div",{children:[a.jsx("h4",{className:"mb-1 fw-semi-bold text-700",children:n(e?.performingOrgName)}),a.jsxs("p",{className:"fs--2 text-600 mb-0",children:[m("dashboard.label-healthcare-service")+" : "+n(e?.department),a.jsx("br",{}),m("encounter-visit.date")+" : "+d(e?.date,"DD/MMM/YYYY - HH:mm")]})]}),a.jsx("div",{className:"StarRatingEncounter cursor location-pin-tooltip",onClick:()=>(e=>{e?.location&&N([{name:e?.performingOrgName,location:[e?.location[0]?e?.location[0]:0,e?.location[1]?e?.location[1]:0]}])})(e),ref:u,children:a.jsx(i,{label:m("dashboard.view-maps"),position:"top",children:a.jsx("i",{className:"ico-pin-2"})},s+"-tooltip")})]})},s))})})}),a.jsx(t,{lg:8,children:x?.length>0&&a.jsx("div",{style:{width:"100%",height:"185px",borderRadius:"5px"},children:b?.length>0?a.jsx(R,{height:"185px",zoom:12,LocationInfo:b}):a.jsx(j,{alertType:"info",alertText:a.jsxs("p",{className:"mb-0 marginRight20",children:[a.jsx("i",{className:"ico-info"})," "," "+m("location-alert-text")]})})})})]})}):a.jsx(t,{lg:12,children:a.jsx(j,{alertType:"info",alertText:a.jsxs("p",{className:"mb-0 marginRight20",children:[a.jsx("i",{className:"ico-info"})," "," "+m("data.not-found")]})})})})]})})})},K=()=>{const{t:i}=e(),[l,r]=T.useState(!1),[o,c]=T.useState(null),d=s(e=>e.roleManageStore.PatientPhysical);T.useEffect(()=>{d&&m()},[d]);const m=()=>{b.emergencyContactList(e=>{e&&c(e?.filter(e=>1==e.isPrimary))})};return a.jsx(t,{lg:12,className:"bg-white pt-3  mb-3 myAppointments emergencyContact",children:a.jsxs("div",{className:"px-3",children:[a.jsxs("h4",{className:"mb-0  cursor fs-0 fs-sm-1 fs-lg-2",onClick:()=>r(!l),children:[i("dashboard.emergency-contact"),a.jsx("i",{className:l?"ico-subtract-1 cursor":"cursor ico-plus-1"})]}),l&&o&&a.jsxs(g,{className:"InformationCard",children:[a.jsx(t,{lg:12,children:a.jsxs("p",{className:"mb-1",children:[a.jsx("span",{children:i("dashboard.label-full-name")}),n(o[0]&&o[0]?.givenName+" "+o[0]?.familyName)]})}),a.jsx(t,{lg:12,children:a.jsxs("p",{className:"mb-1",children:[a.jsx("span",{children:i("dashboard.label-relationship")}),N(n(o[0]&&o[0]?.relationship))]})}),a.jsx(t,{lg:12,children:a.jsxs("p",{className:"mb-1",children:[a.jsx("span",{children:i("dashboard.label-phone-number")}),n(o[0]&&o[0]?.phoneNumber)]})})]})]})})},J=()=>{const[s,n]=T.useState(!1),{t:i}=e();return a.jsxs(T.Fragment,{children:[a.jsx("div",{className:"CardButton bg4",onClick:()=>n(!0),children:a.jsxs("a",{children:[a.jsx("div",{className:"Icon",children:a.jsx("i",{className:"ico-blood-donation-1"})}),a.jsx("div",{className:"ButtonText",children:i("menu.blood-donation")})]})}),s&&a.jsx(x,{modal:s,modaltitleText:i("bon-marrow-blood-donation.title"),modalWidth:"50%",alignment:"top",toggle:()=>n(!1),component:a.jsxs(T.Fragment,{children:[a.jsx("p",{className:"marginbottom-5",children:i("bon-marrow-blood-donation.modal-text-1")}),a.jsx("p",{children:i("bon-marrow-blood-donation.modal-text-2")})]}),modalFooter:a.jsx(T.Fragment,{children:a.jsxs(t,{xs:12,justify:"end",children:[a.jsx(o,{variant:"primary",className:"mr-2",size:"sm",type:"button",onClick:()=>window.open("https://www.hamad.qa/EN/Hospitals-and-services/Qatar-Blood-Services/Pages/Blood-Donor-Interest.aspx","_blank"),children:i("bon-marrow-blood-donation.info-btn")}),a.jsx(o,{className:"mr-2",variant:"primary",size:"sm",type:"button",onClick:()=>window.open("https://www.hamad.qa/EN/Hospitals-and-services/Qatar-Blood-Services/Pages/default.aspx","_blank"),children:i("bon-marrow-blood-donation.redirect-btn")})]})})})]})},Q=()=>{const[s,n]=T.useState(!1),{t:i}=e();return a.jsxs(T.Fragment,{children:[a.jsx("div",{className:"CardButton bg7 mb-2",onClick:()=>n(!0),children:a.jsxs("a",{children:[a.jsx("div",{className:"Icon",children:a.jsx("i",{className:"ico-charity"})}),a.jsx("div",{className:"ButtonText",children:i("menu.organ-donation")})]})}),s&&a.jsx(x,{modal:s,modaltitleText:i("organ-donation.title"),modalWidth:"65%",alignment:"top",toggle:()=>n(!1),component:a.jsxs(T.Fragment,{children:[a.jsx("p",{className:"marginbottom-5",children:i("organ-donation.modal-text-1")}),a.jsx("p",{children:i("organ-donation.modal-text-2")}),a.jsx("p",{className:"boldText marginbottom-5",children:i("organ-donation.modal-title-1")}),a.jsx("p",{children:i("organ-donation.modal-text-3")}),a.jsx("p",{className:"boldText marginbottom-5",children:i("organ-donation.modal-title-2")}),a.jsx("p",{className:"marginbottom-5",children:i("organ-donation.modal-text-4")}),a.jsx("p",{children:i("organ-donation.modal-text-5")}),a.jsx("p",{children:a.jsx("a",{className:"mr-4 font-size-16",target:"blank",href:"https://www.hamad.qa/EN/your%20health/Documents/Organ-Donation-Booklet-EN-AR.pdf",children:i("organ-donation.info-btn")})}),a.jsxs("div",{className:"donorCard",children:[a.jsx("h5",{children:i("organ-donation.modal-title-3")}),a.jsx("img",{src:"/static/media/organ-donor-card-oNjsdmaM.jpg",alt:""})]})]}),modalFooter:a.jsx(t,{xs:12,justify:"end",children:a.jsx(o,{id:"organBtn",className:"mr-2",variant:"primary",size:"sm",type:"button",onClick:()=>window.open("https://www.hamad.qa/EN/your%20health/Organ-Donation/Donation-In-Qatar/Pages/default.aspx","_blank"),children:i("organ-donation.redirect-btn")})})})]})},G=s=>{const{type:t,modal:n,setModal:i,title:l,NearestType:r,switchType:o}=s,[c,d]=T.useState([]),[m,h]=T.useState({cityId:null,zoneId:null,status:!1}),[p,g]=T.useState([]),[b,N]=T.useState(null),[y,C]=T.useState(null),{setPageLoading:S}=T.useContext(u),[I,w]=T.useState(!0),{t:D}=e(),{register:k,handleSubmit:P,formState:{errors:M},control:B,setValue:L}=v();T.useEffect(()=>{E("4e5b23b4-f460-11eb-9a03-0242ac130003",d)},[]),T.useEffect(()=>{m&&O(m.zoneId?m.zoneId:m.cityId)},[m.status]);const E=(e,s)=>{A.getLocation(e,e=>{e&&s(e?.locationList)})},F=e=>{e?(L("zone",null),E(e.value,g),O(e.value),w(!1),h({...m,cityId:e.value})):(g([]),h({...m,cityId:null}),L("zone",null),C(null),w(!0))},O=e=>{S(!0);let s=m.status?o:t;"PHAR"==t||"PF"==t?e&&A.getPharma(e,["PHAR","PF"],!!m?.status||null,e=>{e&&N(e),S(!1)}):e&&A.getOrganizations(e,s,e=>{e&&N(e),S(!1)})};T.useEffect(()=>{"object"==typeof c&&F(...c.filter(e=>"14f77c38-f476-11eb-9a03-0242ac130003"==e?.value))},[n&&c]),T.useEffect(()=>{if(b){let e=[];b.map(s=>{null!=s?.address?.latitude&&e.push({name:s.organizationName,status:s.status,location:[s?.address?.latitude,s?.address?.longitude]})}),C(e)}},[b]);const H=[{visibilityState:!0,ColLg:"4",item:"SELECT",itemType:"single",label:D("dashboard.label-city"),labelStatus:!0,name:"city",id:"city",className:null,rowFixed:!1,IsMulti:!1,options:c,closeMenuOnSelect:!0,defaultValue:c?.find(e=>"14f77c38-f476-11eb-9a03-0242ac130003"===e?.value),onChange:e=>F(e),placeholder:D("dashboard.label-city"),required:!0,requiredMessage:D("validation-error-mesaj"),disabled:!1},{visibilityState:!0,ColLg:"4",item:"SELECT",itemType:"single",label:D("dashboard.label-zone"),labelStatus:!0,name:"zone",id:"zone",className:null,rowFixed:!1,IsMulti:!1,options:p,closeMenuOnSelect:!0,defaultValue:null,onChange:e=>(e=>{h({...m,zoneId:e?e.value:null}),O(e?e.value:m.cityId)})(e),placeholder:D("dashboard.label-zone"),required:!1,requiredMessage:!1,disabled:I},{visibilityState:!0,ColLg:"4",item:"SWITCH",itemType:"switch",label:D("PHAR"==t?"dashboard.label-pharmacies":"dashboard.label-hospitals"),name:"status",id:"status",className:"margin-top-25",onChange:e=>(e=>{h({...m,status:e})})(e.target.checked),rowFixed:!1,defaultValue:!1,placeholder:D("PHAR"==t?"dashboard.label-pharmacies":"dashboard.label-hospitals"),required:!1,requiredMessage:!1,disabled:I}];return a.jsx(x,{modal:n,modaltitleText:l,modalWidth:"65%",alignment:"top",toggle:()=>i(!1),component:a.jsxs(T.Fragment,{children:[a.jsx(f,{CreateFormItems:H,register:k,setValue:L,errors:M,control:B}),a.jsx("div",{className:"mt-3 minheight300",children:y?a.jsx(T.Fragment,{children:a.jsx(R,{height:"500px",zoom:12,LocationInfo:y})}):"hospital"==r?a.jsx(j,{alertType:"info",alertIcon:a.jsx("i",{className:"ico-info font-size-38"}),alertHeader:D("nearest-alert.hospital-title"),alertText:D("nearest-alert.hospital-text")}):a.jsx(j,{alertType:"info",alertIcon:a.jsx("i",{className:"ico-info font-size-38"}),alertHeader:D("nearest-alert.pharmacy-title"),alertText:D("nearest-alert.pharmacy-text")})})]})})},Z=()=>{const[s,t]=T.useState(!1),{t:n}=e();return a.jsxs(T.Fragment,{children:[a.jsx("div",{className:"CardButton bg6",onClick:()=>t(!0),children:a.jsxs("a",{children:[a.jsx("div",{className:"Icon",children:a.jsx(y,{icon:"Health-Facilities"})}),a.jsx("div",{className:"ButtonText",children:n("menu.nearest-hospital")})]})}),s&&a.jsx(G,{type:"ALL",switchType:"HOSPITAL",modal:s,setModal:t,title:n("menu.nearest-hospital"),NearestType:"hospital"})]})},X=()=>{const[s,t]=T.useState(!1),{t:n}=e();return a.jsxs(T.Fragment,{children:[a.jsx("div",{className:"CardButton bg9",onClick:()=>t(!0),children:a.jsxs("a",{children:[a.jsx("div",{className:"Icon",children:a.jsx(y,{icon:"Closest-Pharmacies"})}),a.jsx("div",{className:"ButtonText",children:n("menu.nearest-pharmacy")})]})}),s&&a.jsx(G,{type:"PHAR",switchType:"PHAR",modal:s,setModal:t,title:n("menu.nearest-pharmacy"),NearestType:"pharmacy"})]})},ee=()=>{const{t:t}=e(),n=s(e=>e.roleManageStore.PatientPhysical),i="SHARED"===n?.loginType,[o,c]=T.useState(!1),[d,m]=T.useState(!1),[h,u]=T.useState(!1),[x,j]=T.useState(!1);return a.jsx(T.Fragment,{children:a.jsx("div",{className:"DataHeaderNone bgColor flex",children:a.jsxs("div",{className:"w-100",children:[a.jsx("h2",{className:"right-menu-section",children:a.jsxs("div",{className:"section-header",onClick:()=>c(!o),children:[a.jsx("h3",{className:"rightMenuTitle mb-0",children:t("menu.visits")}),a.jsx("span",{className:"arrow "+(o?"open":"")})]})}),o&&a.jsxs(a.Fragment,{children:[a.jsx(l,{resourceName:"menu.appointments",permission:"read",type:"button",children:a.jsx("div",{className:"CardButton",children:a.jsxs(r.Link,{to:"/appointments",children:[a.jsx("div",{className:"Icon",children:a.jsx(y,{icon:"appointment"})}),a.jsx("div",{className:"ButtonText",children:t("menu.appointments")})]})})}),a.jsx(l,{resourceName:"menu.encounters",permission:"read",type:"button",children:a.jsx("div",{className:"CardButton mb-2",children:a.jsxs(r.Link,{to:"/visits-history",children:[a.jsx("div",{className:"Icon",children:a.jsx("i",{className:"ico-hospital-6"})}),a.jsx("div",{className:"ButtonText",children:t("menu.encounters")})]})})})]}),a.jsx("h2",{className:"right-menu-section",children:a.jsxs("div",{className:"section-header",onClick:()=>m(!d),children:[a.jsx("h3",{className:"rightMenuTitle mb-0",children:t("menu.clinical")}),a.jsx("span",{className:"arrow "+(d?"open":"")})]})}),d&&a.jsxs(a.Fragment,{children:[a.jsx(l,{resourceName:"menu.conditions",permission:"read",type:"button",children:a.jsx("div",{className:"CardButton",children:a.jsxs(r.Link,{to:"/my-health-conditions",children:[a.jsx("div",{className:"Icon",children:a.jsx(y,{icon:"health-conditions",width:"24",height:"24"})}),a.jsx("div",{className:"ButtonText",children:t("menu.conditions")})]})})}),a.jsx(l,{resourceName:"menu.test-lab-result",permission:"read",type:"button",children:a.jsx("div",{className:"CardButton",children:a.jsxs(r.Link,{to:"/lab-results",children:[a.jsx("div",{className:"Icon",children:a.jsx("i",{className:"ico-flask-lab"})}),a.jsx("div",{className:"ButtonText",children:t("menu.test-lab-result")})]})})}),a.jsx(l,{resourceName:"menu.vital-signs",permission:"read",type:"button",children:a.jsx("div",{className:"CardButton",children:a.jsxs(r.Link,{to:"/vital-signs",children:[a.jsx("div",{className:"Icon",children:a.jsx("i",{className:"ico-cardiogram-1"})}),a.jsx("div",{className:"ButtonText",children:t("menu.vital-signs")})]})})}),a.jsx(l,{resourceName:"menu.allergies",permission:"read",type:"button",children:a.jsx("div",{className:"CardButton",children:a.jsxs(r.Link,{to:"/allergies-and-intolerances",children:[a.jsx("div",{className:"Icon",children:a.jsx(y,{icon:"allergy"})}),a.jsx("div",{className:"ButtonText",children:t("menu.allergies")})]})})}),a.jsx(l,{resourceName:"menu.medications",permission:"read",type:"button",children:a.jsx("div",{className:"CardButton",children:a.jsxs(r.Link,{to:"/medications-and-prescriptions",children:[a.jsx("div",{className:"Icon",children:a.jsx("i",{className:"ico-medicine"})}),a.jsx("div",{className:"ButtonText",children:t("menu.medications")})]})})}),a.jsx(l,{resourceName:"menu.vaccinations",permission:"read",type:"button",children:a.jsx("div",{className:"CardButton",children:a.jsxs(r.Link,{to:"/vaccinations",children:[a.jsx("div",{className:"Icon",children:a.jsx(y,{icon:"vaccination"})}),a.jsx("div",{className:"ButtonText",children:t("menu.vaccinations")})]})})}),a.jsx(l,{resourceName:"menu.diagnostic-reports",permission:"read",type:"button",children:a.jsx("div",{className:"CardButton",children:a.jsxs(r.Link,{to:"/diagnostic-tests",children:[a.jsx("div",{className:"Icon",children:a.jsx(y,{icon:"diagnostic-report"})}),a.jsx("div",{className:"ButtonText",children:t("menu.diagnostic-reports")})]})})}),a.jsx(l,{resourceName:"menu.procedures",permission:"read",type:"button",children:a.jsx("div",{className:"CardButton",children:a.jsxs(r.Link,{to:"/procedures",children:[a.jsx("div",{className:"Icon",children:a.jsx("i",{className:"ico-folder-6"})}),a.jsx("div",{className:"ButtonText",children:t("menu.procedures")})]})})}),a.jsx(l,{resourceName:"menu.health-care-plan",permission:"read",type:"button",children:a.jsx("div",{className:"CardButton",children:a.jsxs(r.Link,{to:"/care-plan",children:[a.jsx("div",{className:"Icon",children:a.jsx("i",{className:"ico-user-check-monitor"})}),a.jsx("div",{className:"ButtonText",children:t("menu.health-care-plan")})]})})}),a.jsx(l,{resourceName:"menu.educational-material",permission:"read",type:"button",children:a.jsx("div",{className:"CardButton mb-2",children:a.jsxs(r.Link,{to:"/educational-materials",children:[a.jsx("div",{className:"Icon",children:a.jsx("i",{className:"ico-file-document"})}),a.jsx("div",{className:"ButtonText",children:t("menu.educational-material")})]})})})]}),a.jsx("h2",{className:"right-menu-section",children:a.jsxs("div",{className:"section-header",onClick:()=>u(!h),children:[a.jsx("h3",{className:"rightMenuTitle mb-0",children:t("menu.public-services")}),a.jsx("span",{className:"arrow "+(h?"open":"")})]})}),h&&a.jsxs(a.Fragment,{children:[!i&&a.jsx(Z,{}),!i&&a.jsx(X,{}),!i&&a.jsx(J,{}),!i&&a.jsx(Q,{})]}),a.jsx("h2",{className:"right-menu-section",children:a.jsxs("div",{className:"section-header",onClick:()=>j(!x),children:[a.jsx("h3",{className:"rightMenuTitle mb-0",children:t("menu.journal")}),a.jsx("span",{className:"arrow "+(x?"open":"")})]})}),x&&a.jsxs(a.Fragment,{children:[a.jsx(l,{resourceName:"menu.important-health-information",permission:"read",type:"button",children:a.jsx("div",{className:"CardButton",children:a.jsxs(r.Link,{to:"/important-health-information",children:[a.jsx("div",{className:"Icon",children:a.jsx("i",{className:"ico-life-buoy"})}),a.jsx("div",{className:"ButtonText",children:t("menu.important-health-information")})]})})}),a.jsx(l,{resourceName:"menu.my-documents",permission:"read",type:"button",children:a.jsx("div",{className:"CardButton",children:a.jsxs(r.Link,{to:"/my-documents",children:[a.jsx("div",{className:"Icon",children:a.jsx(y,{icon:"my-document"})}),a.jsx("div",{className:"ButtonText",children:t("menu.my-documents")})]})})}),a.jsx(l,{resourceName:"menu.surveys",permission:"read",type:"button",children:a.jsx("div",{className:"CardButton",children:a.jsxs(r.Link,{to:"/surveys-and-questionnaires",children:[a.jsx("div",{className:"Icon",children:a.jsx("i",{className:"ico-medical-record-2"})}),a.jsx("div",{className:"ButtonText",children:t("menu.surveys")})]})})}),a.jsx(l,{resourceName:"menu.smart-assistant",permission:"read",type:"button",children:a.jsx("div",{className:"CardButton",children:a.jsxs(r.Link,{to:"/smart-assistant",children:[a.jsx("div",{className:"Icon",children:a.jsx("i",{className:"ico-headset-1"})}),a.jsx("div",{className:"ButtonText",children:t("menu.smart-assistant")})]})})}),a.jsx(l,{resourceName:"menu.self-added-vitals",permission:"read",type:"button",children:a.jsx("div",{className:"CardButton mb-2",children:a.jsxs(r.Link,{to:"/self-added-vitals",children:[a.jsx("div",{className:"Icon",children:a.jsx("i",{className:"ico-self-added-vitals"})}),a.jsx("div",{className:"ButtonText",children:t("menu.self-added-vitals")})]})})})]}),a.jsx("span",{className:"journal-border"})]})})})},se=()=>{C()(S(!0));const[e,n]=T.useState(null),i=s(e=>e.roleManageStore.PatientPhysical),l=s(e=>e.roleManageStore.PatientPhysical);T.useEffect(()=>{r()},[i]);const r=()=>{A.dashboardDetail(e=>{e&&n(e)})};return a.jsx(T.Fragment,{children:a.jsxs(g,{className:"Dashboard",children:[a.jsx(t,{lg:9,children:a.jsxs(g,{children:[a.jsx(F,{data:e?.PRIMARY_CARE_PHYSICIAN&&e?.PRIMARY_CARE_PHYSICIAN[0]}),a.jsx(t,{lg:4,children:a.jsx(w,{PatientInfo:i,SaveStatus:!1})}),a.jsx(O,{data:e?.HEART_RISK_FACTORS}),a.jsx(W,{data:e?.APPOINTMENT}),a.jsxs("div",{className:"bottom-dashboard-cards d-flex justify-content-between",children:[a.jsxs("div",{className:"bottom-dashboard-cards-left d-flex flex-column w-100 mr-4",children:[a.jsx(Y,{data:e?.LAB_RESULTS}),a.jsx(q,{data:e?.VITAL_SIGN}),a.jsx($,{data:e?.PUBLIC_SERVICES})]}),a.jsxs("div",{className:"bottom-dashboard-cards-right d-flex flex-column w-100 ml-4",children:[a.jsx(_,{data:e?.PRESCRIPTION}),a.jsx(U,{data:e?.ENCOUNTER,phrId:i?.phrId}),a.jsx(V,{})]})]})]})}),a.jsxs(t,{lg:3,children:[a.jsx(K,{}),l?.rightMenu&&a.jsx(I,{cardClass:"DataHeaderNone bgColor right-nav-buttons",cardLight:!1,cardHeader:null,cardContent:a.jsx(ee,{Patient:i})})]})]})})},ae=()=>{const t=s(e=>e.roleManageStore.PatientPhysical),{t:n,i18n:i}=e(),l=t?.fullName;return a.jsx(g,{className:"Dashboard",children:t?.rightMenu&&a.jsx(I,{cardClass:"DataHeaderNone bgColor dependantMenu",cardLight:!1,cardHeader:null,cardContent:a.jsxs(T.Fragment,{children:[" ",a.jsx(j,{alertType:"info",alertText:a.jsxs("p",{className:"mb-0 marginRight20",children:[a.jsx("i",{className:"ico-info"})," ","en"===i.language?l+n("dashboard.dependants-menu"):n("dashboard.dependants-menu-2")+l+n("dashboard.dependants-menu-1")]})}),a.jsx(ee,{})]})})})},te=()=>{const e=s(e=>e.roleManageStore.PatientPhysical),t="SHARED"===e?.loginType;return a.jsx(T.Fragment,{children:t?a.jsx(ae,{}):a.jsx(se,{})})};export{te as default};
