const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/css/common-DJCpoVr1.css"])))=>i.map(i=>d[i]);
import{_ as e}from"./preload-helper-Cyd4LpGB.js";import{c as a,u as s,H as t,j as i,M as n,C as l,B as r,v as o,R as d,l as c,d as m,T as h}from"./common-DEUjWhYV.js";import{t as j,R as x}from"./tigaHealthPhr__loadShare__react__loadShare__-PlbDaU_c.js";import{T as u}from"./Table-BjqSWWQP.js";import"./tigaHealthPhr__mf_v__runtimeInit__mf_v__-DESDpvoH.js";import"./_commonjsHelpers-Dvrxj_Zk.js";const g=x.lazy(()=>e(()=>import("./my-sharing-modal-CehqmkUt.js"),__vite__mapDeps([0]))),p=x.lazy(()=>e(()=>import("./my-sharing-view-modal-BblfHbVO.js"),__vite__mapDeps([0]))),_=()=>{const[e,x]=j.useState(null),[_,b]=j.useState(!1),[N,f]=j.useState(null),[v,y]=j.useState([]),T=a(e=>e.roleManageStore.PatientPhysical),{t:I,i18n:C}=s(),S=(e,a)=>{f(e),a&&x(a),b(!0)};j.useEffect(()=>{T&&w(T?.phrId)},[T]);const w=e=>{t.sharingList(e,e=>{y(e||[])})};let k;return k="add"===N||"edit"===N?i.jsx(n,{modal:_,modaltitleText:I("sharing.share-modal-title"),modalWidth:"65%",alignment:"top",backDrop:"static",toggle:()=>b(!1),component:i.jsx(g,{Modal:_,setModal:b,ViewID:"edit"===N?e:null,getSharingList:w,modalType:N})}):"view"===N?i.jsx(n,{modal:_,modaltitleText:I("data-table-list.view-header-text"),modalWidth:"50%",alignment:"right",toggle:()=>b(!1),component:i.jsx(p,{ViewID:e})}):i.jsx(n,{modal:_,modaltitleText:I("confirm.delete-header"),modalWidth:"35%",alignment:"top",toggle:()=>b(!1),component:i.jsxs(j.Fragment,{children:[I("confirm.delete-text"),i.jsxs(l,{xs:12,justify:"end",className:"mt-3",children:[i.jsx(r,{id:"CancelBtn",variant:"danger",className:"mr-2",size:"sm",type:"button",onClick:()=>b(!1),children:I("button.no")}),i.jsx(r,{id:"saveBtnFile",variant:"success",size:"sm",type:"button",onClick:()=>{t.removeShare(e,e=>{w(T?.phrId),b(!1)})},children:I("button.yes")})]})]})}),i.jsx(o,{cardClass:"DataHeaderNone",cardLight:!1,cardHeader:null,cardTitle:null,cardContent:i.jsxs(d,{className:"p-2",children:[i.jsx(l,{lg:12,children:i.jsx(c,{alertType:"info",alertText:i.jsxs("p",{className:"mb-0 marginRight20",children:[i.jsx("i",{className:"ico-info"})," "," "+I("sharing.my-sharing-info")," "]})})}),k,i.jsx(l,{lg:12,className:"mb-2 ",children:i.jsx(m,{resourceName:"menu.sharing",permission:"create",type:"button",children:i.jsxs(r,{id:"saveBtn",className:"float-right",size:"sm",onClick:()=>S("add",null),variant:"falcon-default",type:"button",children:[i.jsx("i",{className:"ico-plus"})," ",I("button.add-new-sharing")]})})}),i.jsx(l,{lg:12,children:v?.length>0?i.jsx(j.Fragment,{children:i.jsxs(u,{children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:I("sharing.label-name")}),i.jsx("th",{children:I("sharing.label-remaining-duration")}),i.jsx("th",{className:"IconCol2",children:I("DataTable.actions")})]})}),i.jsx("tbody",{children:v.map((e,a)=>i.jsxs("tr",{children:[i.jsx("td",{children:"ar"===C.language&&null!==e.arabicGivenName&&null!==e.arabicFamilyName?e.arabicGivenName+" "+e.arabicFamilyName:e.userName+" "+e.userLastName}),i.jsx("td",{children:e.permanent?I("sharing.permanent"):e?.durationTime+1+" "+I("sharing.days")}),i.jsx("td",{className:"IconCol2 tooltips-td-sharing",children:i.jsxs(j.Fragment,{children:[i.jsx(h,{label:I("button.view"),position:"top",children:i.jsx("i",{className:"ico-show-1 cursor",onClick:()=>{return a=e?.userSharingMenuId,f("view"),b(!0),void x(a);var a}})}),i.jsx(h,{label:I("button.edit"),position:"top",children:i.jsx("i",{className:"ico-pencil-edit cursor",onClick:()=>S("edit",e?.userSharingMenuId)})}),i.jsx(h,{label:I("button.delete"),position:"top",children:i.jsx("i",{className:"ico-trash-delete cursor",onClick:()=>{return a=e?.userSharingMenuId,f("delete"),a&&x(a),void b(!0);var a}})})]})})]},a))})]})}):i.jsx(c,{alertType:"info",alertText:i.jsxs("p",{className:"mb-0 marginRight20",children:[i.jsx("i",{className:"ico-info"})," "," "+I("sharing.temporarly-shared-not-found-alert-box")," "]})})})]})})};export{_ as default};
