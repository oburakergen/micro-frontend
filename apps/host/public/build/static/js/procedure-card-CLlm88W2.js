import{u as e,j as t,X as n,Y as i,l as s,h as r,i as a,C as c,p as d,M as l,v as o,S as h,g as x}from"./common-DEUjWhYV.js";import{t as u}from"./tigaHealthPhr__loadShare__react__loadShare__-PlbDaU_c.js";import{T as j}from"./Table-BjqSWWQP.js";import m from"./test-lab-result-list-CHepZLah.js";import g from"./procedure-list-DeVh27s1.js";import p from"./radiology-87NqUUlx.js";import{O as v}from"./other-diagnostic-reports-DeqqnXzL.js";const f=(r,a=!1)=>{const{t:c}=e();return r?0==r?.length&&t.jsx(s,{alertType:"info",alertText:t.jsxs("p",{className:"mb-0 marginRight20",children:[t.jsx("i",{className:"ico-info"})," "," "+c("data.not-found")]})}):t.jsxs("div",{className:a?"PageLoadingSmall mini":"PageLoadingSmall",children:[t.jsx(n,{animation:"border",variant:"success",className:"spiner"}),!a&&t.jsx("span",{children:t.jsx(i,{i18nKey:"DataTable.loading"})})]})},y=new class extends r{constructor(){super(`${a.API}/phr`)}encounterFilter(e,t){super.post("encounter/filter",e,t,!1,!1)}getList(e){super.get("encounter",e,!1,!1)}getDiagnosisList(e,t){super.get(`disease/find-all-by-year?year=${e}`,t)}getFutureAppointment(e){super.get("appointment/find-by-patient?limit=5&dateRange=MONTH12",e)}getProblemConditionList(e,t){super.get(`disease/find-by-encounter/${e}`,t)}getProcedureList(e,t){let n=`procedure/find-by-encounter?encounterId=${e?.encounterId}`;n=e?.category?n+`&category=${e?.category}`:n,super.get(n,t)}getMedicationList(e,t){super.get(`medication-request/find-by-encounter/${e}`,t)}getTestResultList(e,t){super.get(`observation/laboratory/find-by-encounter/${e?.encounterId}`,t)}getVaccinationList(e,t){super.get(`immunization/find-by-encounter/${e}`,t)}getCarePlanList(e,t){super.get(`care-plan/find-by-encounter/${e}`,t)}getCarePlanDetail(e,t){super.get(`care-plan/find-detail-by-id/${e}`,t)}getAllergyReactionList(e,t){super.get(`allergy-intolerance/find-by-encounter/${e}`,t)}getVitalSignList(e,t){super.get(`observation/vital-signs/find-by-encounter/${e}`,t)}getDiagnosticReportList(e,t){super.get(`diagnostic-report/find-by-encounter/${e}`,t)}getDiagnosticReportDocument(e,t){super.get(`diagnostic-report/find-document-by-id/${e}`,t)}getHeartRisk(e){super.get("heart-risk-factor",e)}clinicalDataEncounter(e,t){super.get(`clinical-documents/find-by-encounter/${e}`,t)}clinicalData(e,t){super.post("clinical-documents/find-by-patient-by-link",e,t,!1,!1)}getFutureAppointments(e,t){super.post("appointment/find-by-patient",e,t)}},b=n=>{const{encounterId:i,filterList:r,setFilterList:a,smartAssistant:m=!1}=n,{t:g}=e(),[p,v]=u.useState([]),[f,b]=u.useState(!1);u.useEffect(()=>{i&&T()},[i]),u.useEffect(()=>{a(e=>({...e,problemCondition:p.length>0}))},[p]);const T=()=>{y.getProblemConditionList(i,e=>{v(e||[])})};return r.problemCondition&&(m?t.jsxs(u.Fragment,{children:[t.jsx(c,{lg:6,children:t.jsxs("div",{className:"CardButton smart-button bg8",onClick:()=>b(!0),children:[t.jsx("div",{className:"Icon smart-button.Icon",children:t.jsx(d,{icon:"health-conditions",width:"24",height:"24"})}),t.jsx("div",{className:"ButtonTextSmartAssistant",children:g("encounter-visit.problem-condition")})]})}),f&&t.jsx(l,{modal:f,modaltitleText:g("encounter-visit.problem-condition"),modalWidth:"65%",alignment:"top",toggle:()=>b(!1),component:t.jsx(t.Fragment,{children:r.problemCondition&&p?.length>0?t.jsx("div",{id:"diagnostic-report",children:t.jsx(o,{cardClass:"CardHeaderNone smartAssistant",cardLight:!1,cardTitle:void 0,cardContent:t.jsx(t.Fragment,{children:t.jsxs(j,{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:g("encounter-visit.problem.name")}),t.jsx("th",{className:"width150",children:g("encounter-visit.problem.recorded-date")}),t.jsx("th",{className:"width150",children:g("encounter-visit.problem.recorded-by")})]})}),t.jsx("tbody",{children:p&&p.map((e,n)=>t.jsxs("tr",{children:[t.jsx("td",{children:h(e?.codeSystemInfo?.display)}),t.jsx("td",{children:h(x(e?.recordedDate,"DD/MMM/YYYY"))}),t.jsx("td",{children:h(e?.recorder)})]},n))})]})})})}):t.jsx(s,{alertType:"info",alertText:t.jsxs("p",{className:"mb-0 marginRight20",children:[t.jsx("i",{className:"ico-info"})," "," "+g("data.no-record")]})})})})]}):t.jsx("div",{children:t.jsx(o,{cardClass:"EncounterVisitCard ",cardLight:!1,cardTitle:g("encounter-visit.problem-condition"),cardContent:p?.length>0?t.jsxs(j,{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:g("encounter-visit.problem.name")}),t.jsx("th",{className:"width150",children:g("encounter-visit.problem.recorded-date")}),t.jsx("th",{className:"width150",children:g("encounter-visit.problem.recorded-by")})]})}),t.jsx("tbody",{children:p&&p.map((e,n)=>t.jsxs("tr",{children:[t.jsx("td",{children:h(e?.codeSystemInfo?.display)}),t.jsx("td",{children:h(x(e?.recordedDate,"DD/MMM/YYYY"))}),t.jsx("td",{children:h(e?.recorder)})]},n))})]}):t.jsx(s,{alertType:"info",alertText:t.jsx("p",{className:"mb-0 marginRight20",children:g("data.no-record")})})})}))},T=n=>{const{encounterId:i,filterList:r,setFilterList:a,smartAssistant:d=!1,isRef:m}=n,{t:g}=e(),[p,v]=u.useState([]),[f,b]=u.useState(!1);u.useEffect(()=>{i&&T()},[i]),u.useEffect(()=>{a(e=>({...e,medication:p.length>0}))},[p]);const T=()=>{y.getMedicationList(i,e=>{v(e||[])})};return r.medication&&(d?t.jsxs(u.Fragment,{children:[t.jsx(c,{lg:6,children:t.jsxs("div",{className:"CardButton smart-button bg4",onClick:()=>b(!0),children:[t.jsx("div",{className:"Icon smart-button.Icon",children:t.jsx("i",{className:"ico-medicine icon"})}),t.jsx("div",{className:"ButtonTextSmartAssistant",children:g("encounter-visit.medications")})]})}),f&&t.jsx(l,{modal:f,modaltitleText:g("encounter-visit.medication.title"),modalWidth:"65%",alignment:"top",toggle:()=>b(!1),component:t.jsx("div",{id:"medications",ref:m,children:t.jsx(o,{cardClass:"CardHeaderNone smartAssistant",cardLight:!1,cardTitle:void 0,cardContent:p?.length>0?t.jsxs(j,{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:g("encounter-visit.medication.medication-name")}),t.jsx("th",{children:g("encounter-visit.medication.status")}),t.jsx("th",{children:g("encounter-visit.medication.remaining-refills")}),t.jsx("th",{children:g("encounter-visit.medication.medication-end-date")})]})}),t.jsx("tbody",{children:p&&p?.map((e,n)=>t.jsxs("tr",{children:[t.jsx("td",{children:h(e?.drugGenericName)}),t.jsx("td",{children:h(e?.status)}),t.jsx("td",{children:h(e?.remainingRefills)}),t.jsx("td",{children:h(x(e?.usageEndDate,"DD/MMM/YYYY"))})]},n))})]}):t.jsx(s,{alertType:"info",alertText:t.jsx("p",{className:"mb-0 marginRight20",children:g("data.no-record")})})})})})]}):t.jsx("div",{id:"medications",ref:m,children:t.jsx(o,{cardClass:"EncounterVisitCard",cardLight:!1,cardTitle:g("encounter-visit.medication.title"),cardContent:p?.length>0?t.jsxs(j,{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:g("encounter-visit.medication.medication-name")}),t.jsx("th",{children:g("encounter-visit.medication.status")}),t.jsx("th",{children:g("encounter-visit.medication.remaining-refills")}),t.jsx("th",{children:g("encounter-visit.medication.medication-end-date")})]})}),t.jsx("tbody",{children:p&&p?.map((e,n)=>t.jsxs("tr",{children:[t.jsx("td",{children:h(e?.drugGenericName)}),t.jsx("td",{children:h(e?.status)}),t.jsx("td",{children:h(e?.remainingRefills)}),t.jsx("td",{children:h(x(e?.usageEndDate,"DD/MMM/YYYY"))})]},n))})]}):t.jsx(s,{alertType:"info",alertText:t.jsx("p",{className:"mb-0 marginRight20",children:g("data.no-record")})})})}))},N=n=>{const{encounterId:i,filterList:s,setFilterList:r,smartAssistant:a=!1,isRef:d}=n,{t:h}=e(),[x,j]=u.useState([]),[p,v]=u.useState([]),[f,b]=u.useState(!1),T=!0;u.useEffect(()=>{i&&N()},[i]),u.useEffect(()=>{r(e=>({...e,testLabResult:x.length>0,pathology:p.length>0}))},[x,p]);const N=()=>{let e={encounterId:i,category:"LABORATORY_PATHOLOGY"};y.getProcedureList(e,e=>{v(e||[])}),e={encounterId:i},y.getTestResultList(e,e=>{j(e||[])})};return(s.testLabResult||s.pathology)&&(a?t.jsxs(u.Fragment,{children:[t.jsx(c,{lg:6,children:t.jsxs("div",{className:"CardButton smart-button bg5",onClick:()=>b(!0),children:[t.jsx("div",{className:"Icon smart-button.Icon",children:t.jsx("i",{className:"ico-flask-lab  icon"})}),t.jsx("div",{className:"ButtonTextSmartAssistant",children:h("encounter-visit.test-lab-result")})]})}),f&&t.jsx(l,{modal:f,modaltitleText:h("encounter-visit.test-lab.title"),modalWidth:"65%",alignment:"top",toggle:()=>b(!1),component:t.jsx("div",{id:"test-lab-result",ref:d,children:t.jsx(o,{cardClass:"CardHeaderNone smartAssistant",cardLight:!1,cardContent:t.jsxs(t.Fragment,{children:[s.testLabResult&&t.jsx(m,{data:x,resultType:"ALL",encounterVisit:T}),s.pathology&&t.jsx(g,{header:h("button.lab-procedures-results"),procedureType:"LABORATORY_PATHOLOGY",encounterVisit:T,data:p})]})})})})]}):t.jsx("div",{id:"test-lab-result",ref:d,children:t.jsx(o,{cardClass:"CardCreate encounterVisitTitleOpc EncounterVisitCard",cardLight:!1,cardTitle:h("test-lab-result.title"),cardContent:t.jsxs(t.Fragment,{children:[s.testLabResult&&t.jsx(m,{data:x,resultType:"ALL",encounterVisit:T}),s.pathology&&t.jsx(g,{header:h("button.lab-procedures-results"),procedureType:"LABORATORY_PATHOLOGY",encounterVisit:T,data:p})]})})}))},C=n=>{const{encounterId:i,filterList:r,setFilterList:a,smartAssistant:m=!1,isRef:g}=n,{t:p}=e(),[v,f]=u.useState([]),[b,T]=u.useState(!1);u.useEffect(()=>{i&&N()},[i]),u.useEffect(()=>{a(e=>({...e,vaccination:v.length>0}))},[v]);const N=()=>{y.getVaccinationList(i,e=>{f(e||[])})};return r.vaccination&&(m?t.jsxs(u.Fragment,{children:[t.jsx(c,{lg:6,children:t.jsxs("div",{className:"CardButton smart-button bg4",onClick:()=>T(!0),children:[t.jsx("div",{className:"Icon smart-button.Icon",children:t.jsx(d,{icon:"vaccination",width:"24",height:"24"})}),t.jsx("div",{className:"ButtonTextSmartAssistant",children:p("menu.vaccinations")})]})}),b&&t.jsx(l,{modal:b,modaltitleText:p("encounter-visit.vaccination-card.title"),modalWidth:"65%",alignment:"top",toggle:()=>T(!1),component:t.jsx("div",{id:"vaccination",children:t.jsx(o,{cardClass:"CardHeaderNone smartAssistant",cardLight:!1,cardTitle:void 0,cardContent:v?.length>0?t.jsxs(j,{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:p("encounter-visit.vaccination-card.name")}),t.jsx("th",{children:p("encounter-visit.vaccination-card.type")}),t.jsx("th",{children:p("encounter-visit.vaccination-card.dose")}),t.jsx("th",{children:p("encounter-visit.vaccination-card.date")})]})}),t.jsx("tbody",{children:v&&v.map((e,n)=>t.jsxs("tr",{children:[t.jsx("td",{children:h(e?.codeDisplay)}),t.jsx("td",{children:h(e?.vaccinationType).replace(/_/g," ")}),t.jsx("td",{children:"ROUTINE_ADULT"===e?.vaccinationType?"1":h(e?.dose)}),t.jsx("td",{children:h(x(e?.vaccinationDate,"DD/MMM/YYYY"))})]},n))})]}):t.jsx(s,{alertType:"info",alertText:t.jsx("p",{className:"mb-0 marginRight20",children:p("data.no-record")})})})})})]}):t.jsx("div",{id:"vaccination",ref:g,children:t.jsx(o,{cardClass:"EncounterVisitCard",cardLight:!1,cardTitle:p("encounter-visit.vaccination-card.title"),cardContent:v?.length>0?t.jsxs(j,{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:p("encounter-visit.vaccination-card.name")}),t.jsx("th",{children:p("encounter-visit.vaccination-card.type")}),t.jsx("th",{children:p("encounter-visit.vaccination-card.dose")}),t.jsx("th",{children:p("encounter-visit.vaccination-card.date")})]})}),t.jsx("tbody",{children:v&&v.map((e,n)=>t.jsxs("tr",{children:[t.jsx("td",{children:h(e?.codeDisplay)}),t.jsx("td",{children:h(e?.vaccinationType).replace(/_/g," ")}),t.jsx("td",{children:"ROUTINE_ADULT"===e?.vaccinationType?"1":h(e?.dose)}),t.jsx("td",{children:h(x(e?.vaccinationDate,"DD/MMM/YYYY"))})]},n))})]}):t.jsx(s,{alertType:"info",alertText:t.jsx("p",{className:"mb-0 marginRight20",children:p("data.no-record")})})})}))},L=n=>{const{encounterId:i,filterList:r,setFilterList:a,smartAssistant:m=!1,isRef:g}=n,{t:p}=e(),[v,f]=u.useState([]),[b,T]=u.useState(!1);u.useEffect(()=>{i&&N()},[i]),u.useEffect(()=>{a(e=>({...e,allergyReaction:v.length>0}))},[v]);const N=()=>{y.getAllergyReactionList(i,e=>{f(e||[])})};return r.allergyReaction&&(m?t.jsxs(u.Fragment,{children:[t.jsx(c,{lg:6,children:t.jsxs("div",{className:"CardButton smart-button bg7",onClick:()=>T(!0),children:[t.jsx("div",{className:"Icon smart-button.Icon",children:t.jsx(d,{icon:"allergy",width:"24",height:"24"})}),t.jsx("div",{className:"ButtonTextSmartAssistant",children:p("encounter-visit.allergy-reaction")})]})}),b&&t.jsx(l,{modal:b,modaltitleText:p("encounter-visit.allergy.title"),modalWidth:"65%",alignment:"top",toggle:()=>T(!1),component:t.jsx("div",{id:"allergy-reaction",children:t.jsx(o,{cardClass:"CardHeaderNone smartAssistant",cardLight:!1,cardTitle:void 0,cardContent:v?.length>0?t.jsx(u.Fragment,{children:t.jsxs(j,{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:p("encounter-visit.allergy.substance-name")}),t.jsx("th",{children:p("encounter-visit.allergy.criticality")}),t.jsx("th",{children:p("encounter-visit.allergy.recorded-date")})]})}),t.jsx("tbody",{children:v&&v.map((e,n)=>t.jsxs("tr",{children:[t.jsx("td",{children:h(e?.codeDisplay)}),t.jsx("td",{children:h(e?.criticality)}),t.jsx("td",{children:h(x(e?.recordedDate,"DD/MMM/YYYY"))})]},n))})]})}):t.jsx(s,{alertType:"info",alertText:t.jsx("p",{className:"mb-0 marginRight20",children:p("data.no-record")})})})})})]}):t.jsx("div",{id:"allergy-reaction",ref:g,children:t.jsx(o,{cardClass:"EncounterVisitCard",cardLight:!1,cardTitle:p("encounter-visit.allergy.title"),cardContent:v?.length>0?t.jsx(u.Fragment,{children:t.jsxs(j,{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:p("encounter-visit.allergy.substance-name")}),t.jsx("th",{children:p("encounter-visit.allergy.criticality")}),t.jsx("th",{children:p("encounter-visit.allergy.recorded-date")})]})}),t.jsx("tbody",{children:v&&v.map((e,n)=>t.jsxs("tr",{children:[t.jsx("td",{children:h(e?.codeDisplay)}),t.jsx("td",{children:h(e?.criticality)}),t.jsx("td",{children:h(x(e?.recordedDate,"DD/MMM/YYYY"))})]},n))})]})}):t.jsx(s,{alertType:"info",alertText:t.jsx("p",{className:"mb-0 marginRight20",children:p("data.no-record")})})})}))},R=n=>{const{encounterId:i,filterList:r,setFilterList:a,smartAssistant:d=!1,isRef:m}=n,{t:g}=e(),[p,v]=u.useState([]),[f,b]=u.useState(!1);u.useEffect(()=>{i&&T()},[i]),u.useEffect(()=>{a(e=>({...e,vitalSign:p.length>0}))},[p]);const T=()=>{y.getVitalSignList(i,e=>{v(e||[])})};return r.vitalSign&&(d?t.jsxs(u.Fragment,{children:[t.jsx(c,{lg:6,children:t.jsxs("div",{className:"CardButton smart-button bg9",onClick:()=>b(!0),children:[t.jsx("div",{className:"Icon smart-button.Icon",children:t.jsx("i",{className:"ico-cardiogram-1 cursor"})}),t.jsx("div",{className:"ButtonTextSmartAssistant",children:g("menu.vital-signs")})]})}),f&&t.jsx(l,{modal:f,modaltitleText:g("encounter-visit.vital-sign-card.title"),modalWidth:"65%",alignment:"top",toggle:()=>b(!1),component:t.jsx("div",{id:"vital-sign",children:t.jsx(o,{cardClass:"CardHeaderNone smartAssistant",cardLight:!1,cardTitle:void 0,cardContent:p?.length>0?t.jsxs(j,{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:g("encounter-visit.vital-sign-card.name")}),t.jsx("th",{children:g("encounter-visit.vital-sign-card.value")}),t.jsx("th",{children:g("encounter-visit.vital-sign-card.date")}),t.jsx("th",{children:g("encounter-visit.vital-sign-card.reference-range")})]})}),t.jsx("tbody",{children:p&&p.map((e,n)=>t.jsx(t.Fragment,{children:t.jsxs("tr",{children:[t.jsx("td",{children:h(e?.display)}),t.jsx("td",{children:"85354-9"===e?.code?t.jsxs("ul",{className:"p-0",children:[" ",e?.components?.map(e=>t.jsx("li",{children:`${e?.display} : ${e?.observationValue?.value} ${e?.observationValue?.unit}`},n))]}):h(`${e?.observationValue?.value} ${e?.observationValue?.unit}`)}),t.jsx("td",{children:e?.effective?.value?x(e?.effective?.value,"DD/MMM/YYYY"):"-"}),t.jsx("td",{children:"85354-9"===e?.code&&e?.components?.length>0?t.jsxs("ul",{className:"p-0",children:[" ",e?.components?.map(e=>t.jsx("li",{children:`${e?.referenceRange?.low} - ${e?.referenceRange?.high} ${e?.observationValue?.unit}`},n))]}):"8302-2"!==e?.code&&"29463-7"!==e?.code?h(`${e?.referenceRange?.low} - ${e?.referenceRange?.high} ${e?.observationValue?.unit}`):"-"})]},n)}))})]}):t.jsx(s,{alertType:"info",alertText:t.jsx("p",{className:"mb-0 marginRight20",children:g("data.no-record")})})})})})]}):t.jsx("div",{id:"vital-sign",ref:m,children:t.jsx(o,{cardClass:"EncounterVisitCard",cardLight:!1,cardTitle:g("encounter-visit.vital-sign-card.title"),cardContent:p?.length>0?t.jsxs(j,{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:g("encounter-visit.vital-sign-card.name")}),t.jsx("th",{children:g("encounter-visit.vital-sign-card.value")}),t.jsx("th",{children:g("encounter-visit.vital-sign-card.date")}),t.jsx("th",{children:g("encounter-visit.vital-sign-card.reference-range")})]})}),t.jsx("tbody",{children:p&&p.map((e,n)=>t.jsx(t.Fragment,{children:t.jsxs("tr",{children:[t.jsx("td",{children:h(e?.display)}),t.jsx("td",{children:"85354-9"===e?.code?t.jsxs("ul",{className:"p-0",children:[" ",e?.components?.map(e=>t.jsx("li",{children:`${e?.display} : ${e?.observationValue?.value} ${e?.observationValue?.unit}`},n))]}):h(`${e?.observationValue?.value} ${e?.observationValue?.unit}`)}),t.jsx("td",{children:e?.effective?.value?x(e?.effective?.value,"DD/MMM/YYYY"):"-"}),t.jsx("td",{children:"85354-9"===e?.code&&e?.components?.length>0?t.jsxs("ul",{className:"p-0",children:[" ",e?.components?.map(e=>t.jsx("li",{children:`${e?.referenceRange?.low} - ${e?.referenceRange?.high} ${e?.observationValue?.unit}`},n))]}):"8302-2"!==e?.code&&"29463-7"!==e?.code?h(`${e?.referenceRange?.low} - ${e?.referenceRange?.high} ${e?.observationValue?.unit}`):"-"})]},n)}))})]}):t.jsx(s,{alertType:"info",alertText:t.jsx("p",{className:"mb-0 marginRight20",children:g("data.no-record")})})})}))},Y=n=>{const{encounterId:i,filterList:r,setFilterList:a,smartAssistant:h=!1,isRef:x}=n,{t:j}=e(),[m,g]=u.useState([]),[f,b]=u.useState([]),[T,N]=u.useState(!1),C=!0;u.useEffect(()=>{i&&L()},[i]),u.useEffect(()=>{a(e=>({...e,diagnosticReport:m.length>0,radiology:f.length>0}))},[m,f]);const L=()=>{const e={encounterId:i,category:"RADIOLOGY"};y.getProcedureList(e,e=>{b(e||[])}),y.getDiagnosticReportList(i,e=>{g(e||[])})};return(r.diagnosticReport||r.radiology)&&(h?t.jsxs(u.Fragment,{children:[t.jsx(c,{lg:6,children:t.jsxs("div",{className:"CardButton smart-button bg3",onClick:()=>N(!0),children:[t.jsx("div",{className:"Icon smart-button.Icon diagnostic-report-icon",children:t.jsx(d,{icon:"diagnostic-report"})}),t.jsx("div",{className:"ButtonTextSmartAssistant",children:j("encounter-visit.diagnostic-report")})]})}),T&&t.jsx(l,{modal:T,modaltitleText:j("encounter-visit.diagnostic-report-card.title"),modalWidth:"65%",alignment:"top",toggle:()=>N(!1),component:t.jsx(t.Fragment,{children:r.radiology||r.diagnosticReport?t.jsx("div",{id:"diagnostic-report",children:t.jsx(o,{cardClass:"CardHeaderNone encounterVisitTitleOpc smartAssistant",cardLight:!1,cardTitle:void 0,cardContent:t.jsxs(t.Fragment,{children:[r.radiology&&t.jsx(p,{data:f,encounterVisit:C,encounterId:i}),r.diagnosticReport&&t.jsx(v,{data:m,encounterVisit:C})]})})}):t.jsx(s,{alertType:"info",alertText:t.jsxs("p",{className:"mb-0 marginRight20",children:[t.jsx("i",{className:"ico-info"})," ",` ${j("data.no-record")}`]})})})})]}):(r.radiology||r.diagnosticReport)&&t.jsx("div",{id:"diagnostic-report",ref:x,children:t.jsx(o,{cardClass:"CardCreate encounterVisitTitleOpc EncounterVisitCard",cardLight:!1,cardTitle:j("menu.diagnostic-reports"),cardContent:t.jsxs(t.Fragment,{children:[r.radiology&&t.jsx(p,{data:f,encounterVisit:C,encounterId:i}),r.diagnosticReport&&t.jsx(v,{data:m,encounterVisit:C})]})})}))},D=n=>{const{encounterId:i,filterList:r,setFilterList:a,smartAssistant:m=!1,isRef:g}=n,{t:p}=e(),[v,f]=u.useState([]),[b,T]=u.useState([]),[N,C]=u.useState([]),[L,R]=u.useState(null),[Y,D]=u.useState(null),[A,S]=u.useState(!1),[M,I]=u.useState(!1),[F,V]=u.useState(null);let $;return u.useEffect(()=>{a(e=>({...e,clinicalDocuments:b?.length>0}))},[N]),u.useEffect(()=>{a(e=>({...e,clinicalDocuments:b?.length>0}))},[b]),u.useEffect(()=>{y.clinicalDataEncounter(i,e=>{e&&Array.isArray(e)&&e.length>0&&T(e)})},[i]),"report"==F&&($=t.jsx(l,{modal:M,modaltitleText:p("encounter-visit.clinical-documents-card.report"),modalWidth:"50%",toggle:()=>I(!1),component:L?t.jsx("div",{className:"IframeContent pageFile",children:t.jsx("iframe",{width:"100%",height:"100%",src:"data:"+Y+";base64,"+L,frameBorder:"0",allowFullScreen:!0})}):t.jsx(s,{alertType:"info",alertText:t.jsxs("p",{className:"mb-0 marginRight20",children:[t.jsx("i",{className:"ico-info"})," "," "+p("data-not-found")]})})})),r.clinicalDocuments&&t.jsxs(u.Fragment,{children:[$,m?t.jsxs(u.Fragment,{children:[t.jsx(c,{lg:6,children:t.jsxs("div",{className:"CardButton smart-button bg6",onClick:()=>S(!0),children:[t.jsx("div",{className:"Icon smart-button.Icon clinical-documents-icon",children:t.jsx(d,{icon:"my-document"})}),t.jsx("div",{className:"ButtonTextSmartAssistant",children:p("encounter-visit.clinical-documents")})]})}),A&&t.jsx(l,{modal:A,modaltitleText:p("encounter-visit.clinical-documents-card.title"),modalWidth:"65%",alignment:"top",toggle:()=>S(!1),component:b?.length>0?t.jsx("div",{children:t.jsx(o,{cardClass:"CardHeaderNone smartAssistant",cardLight:!1,cardTitle:void 0,cardContent:b?.length>0&&t.jsx(u.Fragment,{children:t.jsxs(j,{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:p("encounter-visit.clinical-documents-card.name")}),t.jsx("th",{children:p("encounter-visit.clinical-documents-card.type")}),t.jsx("th",{children:p("encounter-visit.clinical-documents-card.date")}),t.jsx("th",{children:p("encounter-visit.clinical-documents-card.report")})]})}),b?.map((e,n)=>t.jsx("tbody",{children:t.jsxs("tr",{children:[t.jsx("td",{children:e?.type}),t.jsx("td",{children:e?.category}),t.jsxs("td",{children:[" ",h(x(e?.date,"DD/MMM/YYYY "))]}),t.jsx("td",{className:"cursor",children:e?.data||e?.contentType?t.jsx("i",{className:"ico-health-report-1 cursor",onClick:()=>{R(e?.data||null),D(e?.contentType||null),V("report"),I(!0)}}):t.jsx("i",{className:"ico-health-report-1 cursor ghostBtn "})})]})},n))]})})})}):t.jsx(s,{alertType:"info",alertText:t.jsx("p",{className:"mb-0 marginRight20",children:p("data.no-record")})})})]}):b?.length>0?t.jsx("div",{id:"clinical-documents",ref:g,children:t.jsx(o,{cardClass:"EncounterVisitCard",cardLight:!1,cardTitle:p("encounter-visit.clinical-documents-card.title"),cardContent:b?.length>0&&t.jsx(u.Fragment,{children:t.jsxs(j,{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:p("encounter-visit.clinical-documents-card.name")}),t.jsx("th",{children:p("encounter-visit.clinical-documents-card.type")}),t.jsx("th",{children:p("encounter-visit.clinical-documents-card.date")}),t.jsx("th",{children:p("encounter-visit.clinical-documents-card.report")})]})}),b?.map((e,n)=>t.jsx("tbody",{children:t.jsxs("tr",{children:[t.jsx("td",{children:e?.type}),t.jsx("td",{children:e?.category}),t.jsxs("td",{children:[" ",h(x(e?.date,"DD/MMM/YYYY "))]}),t.jsx("td",{className:"cursor",children:e?.data||e?.contentType?t.jsx("i",{className:"ico-health-report-1 cursor",onClick:()=>{R(e?.data||null),D(e?.contentType||null),V("report"),I(!0)}}):t.jsx("i",{className:"ico-health-report-1 cursor ghostBtn "})})]})},n))]})})})}):null]})},A=n=>{const{encounterId:i,filterList:r,setFilterList:a,isRef:d,procedureType:m,smartAssistant:g}=n,{t:p}=e(),[v,f]=u.useState([]),[b,T]=u.useState(!1);u.useEffect(()=>{i&&N()},[i]),u.useEffect(()=>{a(e=>({...e,procedure:v.length>0}))},[v]);const N=()=>{f([]);const e={encounterId:i,category:m};y.getProcedureList(e,e=>{e&&f(e)})};return r.procedure&&(g?t.jsxs(u.Fragment,{children:[t.jsx(c,{lg:6,children:t.jsxs("div",{className:"CardButton smart-button bg5",onClick:()=>T(!0),children:[t.jsx("div",{className:"Icon smart-button.Icon",children:t.jsx("i",{className:"ico-folder-6 icon"})}),t.jsx("div",{className:"ButtonTextSmartAssistant",children:p("menu.procedures")})]})}),b&&t.jsx(l,{modal:b,modaltitleText:p("menu.procedures"),modalWidth:"65%",alignment:"top",toggle:()=>T(!1),component:t.jsx("div",{id:"procedure",ref:d,children:t.jsx(o,{cardClass:"CardHeaderNone smartAssistant",cardLight:!1,cardTitle:void 0,cardContent:v?.length>0?t.jsxs(j,{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:p("procedure.procedure-name")}),t.jsx("th",{children:p("procedure.column-category")}),t.jsx("th",{children:p("procedure.linked-diagnosis")}),t.jsx("th",{children:p("procedure.procedure-date")}),t.jsx("th",{children:p("procedure.ordered-by")}),t.jsx("th",{children:p("procedure.performed-by")})]})}),t.jsx("tbody",{children:v.map((e,n)=>t.jsxs(u.Fragment,{children:[t.jsxs("tr",{children:[t.jsx("td",{children:h(e?.categoryDisplay)}),t.jsx("td",{children:h(e?.subcategory)}),t.jsx("td",{children:e?.reasonReferences?.length>0?e.reasonReferences.map((e,n)=>t.jsx("p",{children:h(e?.display)},n)):"-"}),t.jsx("td",{children:h(x(e?.performedDate,"DD/MMM/YYYY"))}),t.jsx("td",{children:h(e?.orderingOrgName)}),t.jsx("td",{children:h(e?.performingOrgName)})]}),e.componentValues?.length>0&&t.jsx("tr",{children:t.jsx("td",{colSpan:5,children:t.jsx("div",{className:"detail-content",children:t.jsx("ul",{children:t.jsxs("li",{children:[t.jsx("div",{className:"detail"}),t.jsx("div",{className:"detail detail-main",children:t.jsx("fieldset",{children:t.jsx("legend",{children:t.jsx("span",{className:"label label-primary",children:e.codeDisplay})})})})]})})})})})]},n))})]}):t.jsx(s,{alertType:"info",alertText:t.jsx("p",{className:"mb-0 marginRight20",children:p("data.no-record")})})})})})]}):r.procedure&&t.jsx("div",{id:"procedure",ref:d,children:t.jsx(o,{cardClass:"EncounterVisitCard",cardLight:!1,cardTitle:p("encounter-visit.procedure-card.title"),cardContent:v?.length>0?t.jsxs(j,{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:p("procedure.procedure-name")}),t.jsx("th",{children:p("procedure.column-category")}),t.jsx("th",{children:p("procedure.linked-diagnosis")}),t.jsx("th",{children:p("procedure.procedure-date")}),t.jsx("th",{children:p("procedure.ordered-by")}),t.jsx("th",{children:p("procedure.performed-by")})]})}),t.jsx("tbody",{children:v.map((e,n)=>t.jsxs("tr",{children:[t.jsx("td",{children:h(e?.codeDisplay)}),t.jsx("td",{children:h(e?.subcategory)}),t.jsx("td",{children:e?.reasonReferences?.length>0?e.reasonReferences.map((e,n)=>t.jsx("p",{children:h(e?.display)},n)):"-"}),t.jsx("td",{children:h(x(e?.performedDate,"DD/MMM/YYYY"))}),t.jsx("td",{children:h(e?.orderingOrgName)}),t.jsx("td",{children:h(e?.performingOrgName)})]},n))})]}):t.jsx(s,{alertType:"info",alertText:t.jsx("p",{className:"mb-0 marginRight20",children:p("data.no-record")})})})}))};export{L as A,D as C,Y as D,y as E,T as M,b as P,N as T,R as V,C as a,A as b,f as s};
