import{u as o,j as e,Y as t,k as r,o as n,M as a,w as s,F as i,C as l,B as d,l as m,d as c}from"./common-DEUjWhYV.js";import{t as u}from"./tigaHealthPhr__loadShare__react__loadShare__-PlbDaU_c.js";import{C as b}from"./index.modern-CaeBwUa5.js";import{B as j}from"./bon-marrow-blood-donation-api-B0Cr9OgK.js";import"./tigaHealthPhr__mf_v__runtimeInit__mf_v__-DESDpvoH.js";import"./_commonjsHelpers-Dvrxj_Zk.js";import"./preload-helper-Cyd4LpGB.js";import"./Overlay-CK6O43qj.js";const x=r=>{const{setIsBonMarrow:n,setModal:a}=r,{t:s}=o();return e.jsx(t,{i18nKey:"bon-marrow-blood-donation.bon-marrow-volunteer-modal-content",children:s("bon-marrow-blood-donation.bon-marrow-volunteer-modal-content")})},h=t=>{const{phrId:h}=t,[p,w]=u.useState(!1),[f,g]=u.useState(!1),{t:_}=o(),{setPageLoading:B}=u.useContext(r),{register:v,handleSubmit:y,formState:{errors:N},control:C,setValue:M}=n();u.useEffect(()=>{h&&I(h)},[h]);const I=o=>{B(!0),j.getBoneMorrow(o,o=>{g(o),B(!1)})},S=o=>{j.saveBoneMorrow(o,o=>{o&&I(h),w(!1),B(!1)})};let T;return p&&(T=e.jsx(a,{modal:p,modaltitleText:_("bon-marrow-blood-donation.bon-marrow-volunteer-modal-title"),modalWidth:"55%",alignment:"top",toggle:()=>w(!1),component:e.jsx(u.Fragment,{children:e.jsxs(s,{onSubmit:y(o=>{B(!0);let e={userId:h,userDonatesBoneMorrow:o.confirm};S(e)}),children:[e.jsx(x,{setIsBonMarrow:g,setModal:w}),e.jsx(i,{CreateFormItems:[{visibilityState:!0,ColLg:"12",item:"SWITCH",itemType:"switch",label:_("bon-marrow-blood-donation.confirm-swicth"),name:"confirm",id:"confirm",className:null,onChange:void 0,rowFixed:!1,defaultValue:!1,placeholder:null,required:!0,requiredMessage:_("validation-error-mesaj"),disabled:!1}],register:v,setValue:M,errors:N,control:C}),e.jsxs(l,{lg:12,justify:"end",className:"mt-3",children:[e.jsx(d,{id:"BloodDeleteBtn",variant:"danger",size:"sm",type:"button",className:"mr-2",onClick:()=>w(!1),children:_("button.no")}),e.jsx(d,{id:"BloodDonationBtn",variant:"success",size:"sm",type:"submit",className:"mr-2",children:_("button.yes")})]})]})})})),e.jsxs("div",{className:"mt-3",children:[T,e.jsx(m,{alertType:"info",alertText:e.jsxs("p",{className:"mb-0 marginRight20",children:[e.jsx("i",{className:"ico-info"})," "+_("bon-marrow-blood-donation.bon-marrow-info")]})}),f&&e.jsx(m,{alertType:"success",alertIcon:e.jsx("i",{className:"ico-blood-donation-1 font-size-38"}),alertHeader:_("data.title-successfull"),alertText:_("bon-marrow-blood-donation.bon-marrow-volunteer")}),e.jsx(l,{lg:12,justify:"end",className:"mt-3",children:f?e.jsx(c,{resourceName:"bon-marrow-blood-donation",permission:"delete",type:"button",children:e.jsx(b,{HeaderText:_("confirm.delete-header"),ContentText:e.jsx(u.Fragment,{children:e.jsx("p",{children:_("confirm.delete-text")})}),ButtonYes:_("button.yes"),ButtonNo:_("button.no"),ButtonContent:e.jsx(d,{id:"DeleteBtn",variant:"danger",size:"sm",type:"button",children:_("bon-marrow-blood-donation.bon-marrow-delete-button")}),Method:()=>{B(!0),S({userId:h,userDonatesBoneMorrow:false}),w(!1)}})}):e.jsx(c,{resourceName:"bon-marrow-blood-donation",permission:"create",type:"button",children:e.jsx(d,{id:"addDonationBtn",variant:"success",size:"sm",type:"button",className:"mr-2",onClick:()=>w(!0),children:_("bon-marrow-blood-donation.bon-marrow-add-button")})})})]})};export{h as default};
