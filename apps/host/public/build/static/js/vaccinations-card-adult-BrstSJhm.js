import{u as a,k as e,j as l,M as t,v as s,R as c,C as i,B as n,g as r}from"./common-DEUjWhYV.js";import{t as d}from"./tigaHealthPhr__loadShare__react__loadShare__-PlbDaU_c.js";import{V as o}from"./vaccinations-api-DFpRhW7d.js";import{C as m}from"./create-vaccinations-pdf-B-eQiwkB.js";import{T as h}from"./Table-BjqSWWQP.js";import"./tigaHealthPhr__mf_v__runtimeInit__mf_v__-DESDpvoH.js";import"./_commonjsHelpers-Dvrxj_Zk.js";import"./preload-helper-Cyd4LpGB.js";const p=()=>{const{t:p}=a(),{setPageLoading:j}=d.useContext(e),[x]=m(),[u,b]=d.useState([]),[v,g]=d.useState(!1),[f,N]=d.useState(null);d.useEffect(()=>{j(!0),o.getCard("ROUTINE_ADULT",a=>{a&&b(a),j(!1)})},[]);const _=a=>{let e="table-bg-blue";return e="COMPLETED"===a?"table-bg-green":"APPROACHING"===a?"table-bg-blue":"EXPIRED"===a?"table-bg-red":"table-bg-white",e},C=a=>{let e=[];u.filter(l=>{l.display===a&&l?.doses.forEach(a=>{e.push({...a,className:_(a?.status)})})});let t=7-e?.length;for(let l=0;l<t;l++)e.push({completed:null,vaccinationApplicationAgeRange:null,vaccinationApplicationDate:null,vaccineFullName:null,vaccineName:null});return e.map((a,e,t)=>l.jsx("td",{className:a?.className,style:{minWidth:"100px",width:"100px"},children:l.jsx("span",{className:"VaccinationCardSpan",children:a?.occurrence?r(a?.occurrence,"DD/MMM/YYYY"):""})},e))};return l.jsxs(d.Fragment,{children:[v&&l.jsx(t,{modal:v,modaltitleText:p("vaccination.adult-vaccination-card"),modalWidth:"65%",toggle:()=>g(!1),component:l.jsx("div",{className:"IframeContent pageFile",children:l.jsx("iframe",{width:"100%",height:"100%",src:f,frameBorder:"0",allowFullScreen:!0})})}),l.jsx(s,{cardClass:"DataHeaderNoneCard",cardLight:!1,cardContent:l.jsxs("div",{className:"mt-3",children:[l.jsx(c,{children:l.jsx(i,{lg:12,children:l.jsx(n,{id:"saveBtn",className:"float-left",size:"sm",variant:"falcon-default",type:"button",onClick:()=>{g(!0),x(N,"ROUTINE_ADULT")},children:p("button.vaccination-calendar")})})}),l.jsxs(c,{id:"CardContent",className:"adultTable",children:[l.jsxs(i,{lg:12,children:[l.jsx("p",{className:"vaccinationTitle",children:p("vaccination.adult-vaccination")}),l.jsx("caption",{className:"vaccination-table-caption",children:l.jsxs(h,{className:"border-0 vaccinationTable gridTable",children:[l.jsx("thead",{children:l.jsx("tr",{children:l.jsx("th",{"aria-label":"Routine Adult Vaccination Header",style:{width:"300px",maxWidth:"300px"}})})}),l.jsx("tbody",{children:u.map((a,e)=>l.jsxs("tr",{children:[l.jsx("td",{style:{minWidth:"100px",width:"100px"},children:a.display}),C(a?.display)]},e))})]})})]}),l.jsx(i,{lg:12,children:l.jsxs(c,{children:[l.jsxs("div",{className:"mr-2 float-left",children:[l.jsx("div",{className:"cube table-bg-red"})," ",l.jsx("span",{children:p("vaccination-card.label-overdue")})]}),l.jsxs("div",{className:"mr-2 float-left",children:[l.jsx("div",{className:"cube table-bg-green"})," ",l.jsx("span",{children:p("vaccination-card.label-complete")})]}),l.jsxs("div",{className:"mr-2 float-left",children:[l.jsx("div",{className:"cube table-bg-blue "})," ",l.jsx("span",{children:p("vaccination-card.label-approaching")})]})]})})]})]})})]})};export{p as default};
