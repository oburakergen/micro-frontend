import{u as e,j as a,g as l,T as s,S as t,R as i,C as n}from"./common-DEUjWhYV.js";import{t as r}from"./tigaHealthPhr__loadShare__react__loadShare__-PlbDaU_c.js";const o=Object.freeze({DAY:{display:"Day",unit:"HOUR"},WEEK:{display:"Week",unit:"DAY"},MONTH:{display:"Month",unit:"DAY"},MONTH6:{display:"6 months",unit:"WEEK"},MONTH12:{display:"Year",unit:"MONTH"}}),c=c=>{const{item:d,activeCard:u,setActiveCard:v,idx:g,activeClass:f,inactiveClass:h,selfAdded:b,activeFilter:p}=c,{t:m}=e(),[x,$]=r.useState([]),[y,N]=r.useState("");r.useEffect(()=>{j(d)},[]),r.useEffect(()=>{const e=new Intl.DateTimeFormat("en",{month:"long"}),a=new Date,l=new Date;p===o.DAY?l.setDate(l.getDate()-1):p===o.WEEK?l.setDate(l.getDate()-6):p===o.MONTH?l.setMonth(l.getMonth()-1):p===o.MONTH6?l.setMonth(l.getMonth()-6):p===o.MONTH12&&l.setFullYear(l.getFullYear()-1);const s=e.format(l),t=l.getDate(),i=l.getFullYear(),n=e.format(a),r=a.getDate(),c=a.getFullYear();N(`${i!==c?`${s} ${t}, ${i}`:`${s} ${t}`} - ${s!==n||c!==i?`${n} ${r}, ${c}`:`${r}, ${c}`}`)},[p]);const j=e=>{const a={...e,icon:"",label:"",type:"",referenceRange:{low:"",high:""}};switch(d.code){case"8867-4":a.icon="ico-heart-pulse",a.label="vital-sign.label-heart-rate",a.type="HEART_RATE",a.referenceRange={low:"60",high:"100"};break;case"2708-6":a.icon="ico-report",a.label="vital-sign.label-SPO2-level",a.type="SPO2_LEVEL",a.referenceRange={low:"95",high:"100"};break;case"85354-9":a.icon="ico-blood-pressure",a.label="vital-sign.label-blood-pressure",a.type="BLOOD_PRESSURE";break;case"2339-0":case"15074-8":a.icon="ico-blood",a.label="vital-sign.label-blood-glucose",a.type="BLOOD_GLUCOSE",a.referenceRange={low:"70",high:"140"};break;case"8302-2":a.icon="ico-height",a.label="vital-sign.label-height",a.type="HEIGHT";break;case"29463-7":a.icon="ico-weight-scale-1",a.label="vital-sign.label-weight",a.type="WEIGHT"}$(a)};return a.jsxs("div",{className:`VitalCardBox cursor bg-${g} ${u&&(x?.observationValue?.value||x?.components?.length>0?u?.type?u?.type===x.type&&f?f:h:"":"soft")}`,style:{padding:"unset",display:"flex",flexDirection:"row",flexWrap:"nowrap"},onClick:()=>{v({label:x?.display,type:x?.type})},children:[a.jsx("div",{className:"borderbg",children:a.jsx("i",{className:x.icon})}),a.jsxs("div",{className:"cardContent d-flex flex-column",style:{position:"relative",height:"unset"},children:[a.jsx("h3",{style:{marginTop:"12px"},children:m(x.label)}),b?(D=x,a.jsxs("div",{style:{display:"flex",justifyContent:"flex-start",padding:"unset",flexDirection:"row",flexWrap:"wrap"},className:`cursor bg-${g}`,children:[a.jsxs("div",{className:"range-text",children:[m("self-added-vitals.range")," "]}),a.jsx("div",{style:{fontSize:"1.5rem",display:"flex",justifyContent:"flex-start"},className:`text-color-${g}`,children:"85354-9"===D?.code?function(e){const l=e?.valueList?.find(e=>"DIASTOLIC_MAX"===e.label),s=e?.valueList?.find(e=>"DIASTOLIC_MIN"===e.label),t=e?.valueList?.find(e=>"SYSTOLIC_MAX"===e.label),r=e?.valueList?.find(e=>"SYSTOLIC_MIN"===e.label),o=null!=s?.value&&null!=l?.value?`${parseInt(s?.value)} - ${parseInt(l?.value)} (${m("self-added-vitals.mmHg")})`:null,c=null!=r?.value&&null!=t?.value?`${parseInt(r?.value)} - ${parseInt(t?.value)} (${m("self-added-vitals.mmHg")})`:null;return o&&c?a.jsxs(i,{style:{display:"flex",flexDirection:"column",fontSize:"0.8rem"},children:[a.jsxs(n,{children:[m("self-added-vitals.dbp")," ~ ",o]}),a.jsxs(n,{children:[m("self-added-vitals.sbp")," ~ ",c]})]}):"-"}(D):D?.valueList?.length>0&&null!==D?.valueList[0]?.value&&void 0!==D?.valueList[0]?.value&&null!==D?.valueList[1]?.value&&void 0!==D?.valueList[1]?.value?a.jsx("div",{children:(()=>{const e=D?.valueList?.find(e=>"MIN"===e.label),a=D?.valueList?.find(e=>"MAX"===e.label);return`${e?.value?parseInt(e.value):"-"} - ${a?.value?parseInt(a.value):"-"} ${m("bpm"===D?.valueList?.[0]?.unit?"self-added-vitals.bpm":"self-added-vitals.mg/dL")}`})()}):"-"})]})):function(e){let l,i;const n=e?.components;let r,o;if(n&&n.length>0&&(o=n.reduce((e,a)=>Number(a?.observationValue?.value)<Number(e?.observationValue?.value)?a:e,n[0]),r=n.reduce((e,a)=>Number(a?.observationValue?.value)>Number(e?.observationValue?.value)?a:e,n[0])),r={...r,referenceRange:{low:"80",high:"120"}},o={...o,referenceRange:{low:"60",high:"80"}},"85354-9"===e?.code){const e=parseFloat(r?.observationValue?.value)?.toFixed(2).toString(),a=parseFloat(o?.observationValue?.value)?.toFixed(2).toString();l=isNaN(e)||isNaN(a)?"-":`${e}/${a}`,i=r?.observationValue?.unit?r?.observationValue?.unit:"-"}else{const a=parseFloat(e?.observationValue?.value)?.toFixed(2);l=isNaN(a)?"-":a,i=isNaN(a)?"-":e?.observationValue?.unit}const c="-"===l?"-":a.jsxs("div",{className:"card-value mb-0",children:[l,a.jsx("span",{children:i})]});return a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"baseline"},children:a.jsxs("div",{className:"d-flex flex-wrap align-items-center vital-signs-card-value",children:[c,a.jsx("span",{className:"ml-1 mb-0",children:a.jsx(s,{position:"top",label:"85354-9"===e?.code?a.jsxs(a.Fragment,{children:[`${m("vital-sign.systolic-blood-pressure")} ${t(`${r?.referenceRange?.low} - ${r?.referenceRange?.high}`)}`,a.jsx("br",{}),`${m("vital-sign.diastolic-blood-pressure")} ${t(`${o?.referenceRange?.low} - ${o?.referenceRange?.high}`)}`]}):"29463-7"===e?.code||"8302-2"===e?.code?"NA":`${e?.referenceRange?.low} - ${e?.referenceRange?.high}`,children:a.jsx("i",{className:"ico-info cursor ml-0"})})})]})})}(x),a.jsx("span",{className:`date ${b}`,children:x?.effective?.value?l(x?.effective?.value,"DD/MMM/YYYY HH:mm"):b?y:"-"})]})]});var D};export{o as C,c as P};
