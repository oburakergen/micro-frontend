import{u as e,ci as a,j as s,cj as t,R as l,aZ as r,h as i,i as n,o,w as d,F as c,C as m,B as u,M as h,v as g,g as x,d as p,k as j,c as b,T as v,l as y,J as f}from"./common-DEUjWhYV.js";import{t as C}from"./tigaHealthPhr__loadShare__react__loadShare__-PlbDaU_c.js";import{P as N,M as S,T as D,A as I,a as A,D as T,C as E,b as k,V as _,E as R,s as L}from"./procedure-card-CLlm88W2.js";import{C as F}from"./index.modern-BcxX8faq.js";import{u as M,t as P,c as w,R as O,p as B,e as H,V,f as Y,I as q,T as K,g as G}from"./animated-CKDtMyWa.js";import{P as z}from"./partial-body-mass-index-BwAaVxj0.js";import{D as W}from"./dashboard-api-CaDzrB6T.js";import{I as $}from"./init-select-box-B47yySkU.js";import{O as U}from"./observation-api-DOIGADGD.js";import"./tigaHealthPhr__mf_v__runtimeInit__mf_v__-DESDpvoH.js";import"./_commonjsHelpers-Dvrxj_Zk.js";import"./preload-helper-Cyd4LpGB.js";import"./Table-BjqSWWQP.js";import"./test-lab-result-list-CHepZLah.js";import"./index.modern-DaA0Mkma.js";import"./Overlay-CK6O43qj.js";import"./test-lab-result-api-D8qjqByn.js";import"./procedure-list-DeVh27s1.js";import"./procedure-ordered-list-IFoFyNe4.js";import"./radiology-87NqUUlx.js";import"./other-diagnostic-reports-DeqqnXzL.js";const X=t=>{const{t:l}=e(),{getSmartAssistantData:r}=C.useContext(a),[i,n]=C.useState(null);return C.useEffect(()=>{r().then(e=>{if(e){const a=e.find(e=>"2339-0"===e?.code);a?.valueList?.length&&n(parseInt(a.valueList[0]?.value))}})},[]),s.jsxs("div",{className:"DashboardCard small bg5",children:[s.jsx("div",{className:"DashboardBorder"}),s.jsx("i",{className:"ico-sugar CardIcon"}),s.jsx("div",{className:"header",children:s.jsx("h3",{children:l("smart-assistant.blood-sugar")})}),s.jsx("div",{className:"DashboardContent",children:s.jsx("h3",{children:i?s.jsxs(s.Fragment,{children:[i," ",s.jsx("span",{children:l("smart-assistant.blood-sugar-unit")})]}):s.jsx("span",{children:"-"})})})]})},J=()=>{const{t:t}=e(),{getSmartAssistantData:l}=C.useContext(a),[r,i]=C.useState(null);return C.useEffect(()=>{l().then(e=>{if(e){const a=e.find(e=>"8867-4"===e?.code);a?.valueList?.length&&i(parseInt(a.valueList[0]?.value))}})},[]),s.jsxs("div",{className:"DashboardCard small bg4",children:[s.jsx("div",{className:"DashboardBorder"}),s.jsx("i",{className:"ico-heartbeat CardIcon"}),s.jsx("div",{className:"header",children:s.jsx("h3",{children:t("smart-assistant.pulse")})}),s.jsx("div",{className:"DashboardContent",children:s.jsx("h3",{children:r?s.jsxs(s.Fragment,{children:[r," ",s.jsx("span",{children:t("smart-assistant.pulse-unit")})]}):s.jsx("span",{children:"-"})})})]})},Q=t=>{const[l,r]=C.useState(null),[i,n]=C.useState(null),{getSmartAssistantData:o}=C.useContext(a);C.useEffect(()=>{o().then(e=>{if(e){const a=e.find(e=>"85354-9"===e.code);if(a?.valueList?.length){const e=a.valueList.find(e=>"Diastolic blood pressure"===e.label)?.value;n(parseInt(e));const s=a.valueList.find(e=>"Systolic blood pressure"===e.label)?.value;r(parseInt(s))}}})},[]);const{t:d}=e();return s.jsxs("div",{className:"DashboardCard small bg1",children:[s.jsx("div",{className:"DashboardBorder"}),s.jsx("i",{className:"ico-blood-pressure CardIcon"}),s.jsx("div",{className:"header",children:s.jsx("h3",{children:d("smart-assistant.blood-pressure")})}),s.jsx("div",{className:"DashboardContent",children:s.jsx("h3",{children:l&&i?s.jsxs(s.Fragment,{children:[l,"/",i," ",s.jsx("span",{children:d("smart-assistant.blood-pressure-unit")})]}):s.jsx("span",{children:"-"})})})]})},Z=a=>{const{EncounterDetail:r}=a,{t:i}=e(),[n,o]=C.useState({problemCondition:!1,medication:!1,testLabResult:!1,vitalSign:!1,allergyReaction:!1,vaccination:!1,diagnosticReport:!1,clinicalDocuments:!1,procedure:!1});return s.jsx(C.Fragment,{children:s.jsxs("div",{className:"boxContent InformationCard",children:[s.jsxs("h4",{children:[r?.performingOrgName,s.jsx("span",{children:t(r)})]}),s.jsxs("p",{children:[s.jsx("span",{children:i("encounter-visit.healthcare-service")}),r?.department]}),s.jsxs("p",{children:[s.jsx("span",{children:i("encounter-visit.diagnosis")}),r?.display]}),s.jsxs(l,{children:[s.jsx(N,{encounterId:r?.id,filterList:n,setFilterList:o,smartAssistant:!0}),s.jsx(S,{encounterId:r?.id,filterList:n,setFilterList:o,smartAssistant:!0}),s.jsx(D,{encounterId:r?.id,filterList:n,setFilterList:o,smartAssistant:!0}),s.jsx(I,{encounterId:r?.id,filterList:n,setFilterList:o,smartAssistant:!0}),s.jsx(A,{encounterId:r?.id,filterList:n,setFilterList:o,smartAssistant:!0}),s.jsx(T,{encounterId:r?.id,filterList:n,setFilterList:o,smartAssistant:!0}),s.jsx(E,{encounterId:r?.id,filterList:n,setFilterList:o,smartAssistant:!0}),s.jsx(k,{encounterId:r?.id,filterList:n,setFilterList:o,smartAssistant:!0,procedureType:"OTHER"}),s.jsx(_,{encounterId:r?.id,filterList:n,setFilterList:o,smartAssistant:!0})]})]})})},ee=a=>{const{setDiagnosticHistory:l,DiagnosticHistory:r}=a,[i,n]=C.useState(null),[o,d]=C.useState(null),[c,m]=C.useState([]),{t:u}=e(),[h,g]=C.useState([]);C.useEffect(()=>{const e=(new Date).getFullYear(),a=[];for(let s=0;s<11;s++)a.push(e-s);g(a),n(e),x(e)},[]);const x=e=>{l(null),d(null),n(e),R.getDiagnosisList(e,e=>{m(e)})};return s.jsxs(C.Fragment,{children:[s.jsx("div",{className:"humanAssistant",children:s.jsxs("div",{className:"position-relative",children:[s.jsx("div",{className:"detailPopUp scrollbar mt-4",children:o?.map((e,a)=>s.jsx(F,{in:!r&&e?.modal,out:r||!e?.modal,timeout:300,classNames:"diagnostic",unmountOnExit:!0,children:s.jsxs("div",{className:"DescriptionBox",children:[s.jsx("i",{className:"ico-close cursor",onClick:()=>d(o.map((a,s)=>s===e?.popupIndex?{...a,modal:!1}:a))}),s.jsx("p",{children:e?.department}),s.jsx("p",{children:e?.display}),s.jsxs("div",{className:"detailBtnWrapper",children:[s.jsx("span",{children:t(e)}),s.jsx("div",{className:"detailBtn",onClick:()=>l(e),children:u("button.details")})]})]})},a))}),s.jsx("div",{className:"rangeDate",children:s.jsx("ul",{children:h.map((e,a)=>s.jsxs("li",{onClick:()=>x(e),className:i==e&&"active",children:[s.jsx("span",{})," ",e]},a))})}),s.jsx("h4",{children:u("smart-assistant.diagnostic-title")}),s.jsx("div",{className:"smartAssistantHuman",children:c&&c.map((e,a)=>s.jsx("div",{className:o?.length>0&&o[0]?.bodyPartCode==e?.bodyPartCode?"active point point"+e.bodyPartCode:"point point"+e.bodyPartCode,onClick:()=>{l(null),(e=>{const a=c.filter(a=>a.bodyPartCode===e).map((e,a)=>({...e,modal:!0,id:e.encounterId,popupIndex:a}));d(a)})(e?.bodyPartCode)}},a))})]})}),s.jsx(F,{in:!!r,out:!r,timeout:300,classNames:"diagnostic-all diagnostic",unmountOnExit:!0,children:s.jsx("div",{children:s.jsxs("div",{className:"diagnosticCard",children:[s.jsx("div",{className:"closeBtn",onClick:()=>l(null),children:s.jsx("i",{className:"ico-close cursor"})}),s.jsx(Z,{EncounterDetail:r})]})})})]})},ae=new class extends i{constructor(){super(`${n.API}/phr/user-burnt-calories`)}setDailyGoal(e,a){let s=e?.goalId?`set-daily-goal?goalId=${e?.goalId}&amount=${e?.amount}`:`set-daily-goal?amount=${e?.amount}`;super.get(s,a,!1)}setDailyBurntCalories(e,a){let s=e?.goalId?`set-daily-burnt-calories?goalId=${e?.goalId}&date=${e.date}&amount=${e.amount}`:`set-daily-burnt-calories?date=${e.date}&amount=${e.amount}`;super.get(s,a,!1)}getDailyBurntCalories(e,a){super.get(`get-daily-burnt-calories?date=${e}`,a,!1)}},se=a=>{const[t,l]=C.useState(null),{setModal:r,setRefresh:i,refresh:n,goalId:h}=a,[g,x]=C.useState((new Date).setHours(0,0,0,0).valueOf()),{register:p,handleSubmit:j,formState:{errors:b},control:v,setValue:y}=o(),{t:f}=e(),N=new Date,S=[{visibilityState:!0,ColLg:"12",item:"DATEPICKER",itemType:"datepicker",label:f("smart-assistant.daily-activity-date"),labelStatus:!0,name:"date",id:"date",placeholder:f("smart-assistant.daily-activity-date"),dateFormat:"dd-MM-yyyy",defaultValue:g,onChange:e=>x(e?.setHours(0,0,0,0).valueOf()),minDate:N.setDate(N.getDate()-30),maxDate:new Date,startDate:null,endDate:null,rowFixed:!1,disabled:!1,autoComplete:"off",showYear:!1,showMonth:!1,required:!0,requiredMessage:f("validation-error-mesaj")},{visibilityState:!0,ColLg:"12",item:"INPUT",itemType:"mask",mask:"9999",label:f("smart-assistant.burnt-calories")+" ("+f("smart-assistant.kcal")+")",labelStatus:!0,name:"activityCalories",id:"activityCalories",onChange:e=>l(e?.target?.value),className:null,rowFixed:!1,defaultValue:"",placeholder:f("smart-assistant.burnt-calories")+" ("+f("smart-assistant.kcal")+")",required:!0,requiredType:{required:f("validation-error-mesaj")},disabled:!1,autoComplete:"off"}];return s.jsxs(d,{onSubmit:j(()=>{const e={goalId:h,date:g,amount:t};ae.setDailyBurntCalories(e,e=>{e&&r(!1),i(!n)})}),children:[s.jsx(c,{CreateFormItems:S,register:p,setValue:y,errors:b,control:v}),s.jsxs(m,{xs:12,justify:"end",className:"mt-3",children:[s.jsx(u,{id:"CancelBtn",variant:"danger",className:"mr-2",size:"sm",type:"button",onClick:()=>r(!1),children:f("button.cancel")}),s.jsx(u,{id:"organBtn",className:"mr-2",variant:"success",size:"sm",type:"submit",children:f("button.save")})]})]})},te=a=>{const[t,l]=C.useState(null),{setModal:r,setRefresh:i,refresh:n,setDailyGoalData:h,goalId:g}=a,{register:x,handleSubmit:p,formState:{errors:j},control:b,setValue:v}=o(),{t:y}=e(),f=[{visibilityState:!0,ColLg:"12",item:"INPUT",itemType:"mask",mask:"9999",label:y("smart-assistant.daily-goal")+" ("+y("smart-assistant.kcal")+")",labelStatus:!0,name:"activityCalories",id:"activityCalories",onChange:e=>l(e?.target?.value),className:null,rowFixed:!1,defaultValue:"",placeholder:y("smart-assistant.daily-goal")+" ("+y("smart-assistant.kcal")+")",required:!0,requiredType:{required:y("validation-error-mesaj")},disabled:!1,autoComplete:"off"}];return s.jsxs(d,{onSubmit:p(()=>{let e={goalId:g||void 0,amount:t};ae.setDailyGoal(e,e=>{h(e),r(!1),i(!n)})}),children:[s.jsx(c,{CreateFormItems:f,register:x,setValue:v,errors:j,control:b}),s.jsxs(m,{xs:12,justify:"end",className:"mt-3",children:[s.jsx(u,{id:"CancelBtn",variant:"danger",className:"mr-2",size:"sm",type:"button",onClick:()=>r(!1),children:y("button.cancel")}),s.jsx(u,{id:"organBtn",className:"mr-2",variant:"success",size:"sm",type:"submit",children:y("button.save")})]})]})},le=a=>{const{t:t}=e(),[l,i]=C.useState(!1),[n,d]=C.useState(!1),[m,j]=C.useState(null),[b,v]=C.useState(null),[y,f]=C.useState({id:null,goal:null}),[N,S]=C.useState(!1),{register:D,handleSubmit:I,formState:{errors:A},control:T,setValue:E}=o({mode:"onClick"});C.useEffect(()=>{let e=null!=m?m:new Date;ae.getDailyBurntCalories(e.setHours(0,0,0,0).valueOf(),e=>{v(e),f({...y,goal:e?.dailyGoal}),(e=>{M(P);let a=w("dailyActivity",O);a.data=[{category:"en"===r.language?"Burnt Calories":"السعرات الحرارية \n المحترقة",value:e?.dailyBurntCalories/e?.dailyGoal*100,full:100}],a.logo.disabled=!0,a.startAngle=-90,a.endAngle=180,a.innerRadius=B(75),a.numberFormatter.numberFormat="#.#'%'";let s=a.yAxes.push(new H);s.dataFields.category="category",s.renderer.grid.template.location=0,s.renderer.grid.template.strokeOpacity=0,s.renderer.labels.template.horizontalCenter="en"===r.language?"right":"left",s.renderer.labels.template.fontWeight=500,"ar"===r.language&&s.renderer.labels.template.padding(0,0,0,-10),s.renderer.labels.template.adapter.add("fill",function(e,s){return s.dataItem.index>=0?a.colors.getIndex(s.dataItem.index):e});let t=a.xAxes.push(new V);if(t.renderer.grid.template.strokeOpacity=0,t.min=0,t.max=100,t.strictMinMax=!0,t.renderer.labels.template.adapter.add("x",(e,a)=>"en"===r.language?"100%"===a.text?e+10:e:"100%"===a.text?e+40:e+25),"ar"===r.language){let e=t.tooltip;e.padding(0,20,0,20),e.adapter.add("paddingLeft",(e,a)=>{if(a.text){let e=a.text.length;return 2===e?20:3===e?25:30}}),e.adapter.add("paddingRight",(e,a)=>{if(a.text){let e=a.text.length;return 2===e?20:3===e?25:30}})}let l=a.series.push(new Y);l.dataFields.valueX="full",l.dataFields.categoryY="category",l.clustered=!1,l.columns.template.fill=(new q).getFor("alternativeBackground"),l.columns.template.fillOpacity=.05,l.columns.template.cornerRadiusTopLeft=20,l.columns.template.strokeWidth=0,l.columns.template.radarColumn.cornerRadius=20;let i=a.series.push(new Y);i.dataFields.valueX="value",i.dataFields.categoryY="category",i.clustered=!1,i.columns.template.strokeWidth=0,i.columns.template.tooltipText="{category}: [bold]{value}[/]","ar"===r.language&&(i.columns.template.tooltip=new K,i.columns.template.tooltip.label.adapter.add("dx",function(e,a){return 100}),i.columns.template.tooltip.label.adapter.add("dy",function(e,a){return 0})),i.columns.template.radarColumn.cornerRadius=20,i.columns.template.adapter.add("fill",function(e,s){return a.colors.getIndex(1)}),a.cursor=new G})(e)})},[m,N]);const k=[{visibilityState:!0,item:"DATEPICKER",itemType:"datepicker",label:null,labelStatus:!0,name:"date",id:"date",className:"search-field",clearItem:!1,rowFixed:!1,defaultValue:null,dateFormat:"dd/MM/yyyy",startDate:null,endDate:new Date,minDate:null,maxDate:new Date,showYear:!0,showMonth:!0,onChange:e=>j(e),placeholder:t("smart-assistant.select-date"),required:!1,requiredMessage:null,readOnly:!1,disabled:!1}];return s.jsxs(C.Fragment,{children:[l&&s.jsx(h,{modal:l,modaltitleText:t("button.add-burnt-calories"),modalWidth:"30%",alignment:"top",toggle:()=>i(!1),component:s.jsx(se,{setModal:i,refresh:N,setRefresh:S,goalId:y?.id})}),n&&s.jsx(h,{modal:n,modaltitleText:t("button.set-daily-goal"),modalWidth:"30%",alignment:"top",toggle:()=>d(!1),component:s.jsx(te,{setModal:d,refresh:N,setRefresh:S,setDailyGoalData:f,goalId:y?.id})}),s.jsx(g,{cardClass:"DailyActivityCard",cardLight:!1,cardHeader:!1,cardTitle:s.jsxs(C.Fragment,{children:[s.jsxs("div",{className:"DailyActivity title",children:[s.jsx("div",{className:"DailyActivity icon"}),s.jsx("div",{children:s.jsx("h5",{children:t("smart-assistant.daily-activity")})})]}),s.jsx(p,{resourceName:"menu.smart-assistant",permission:"create",type:"button",children:s.jsxs("div",{className:"DailyActivity card-header",children:[s.jsx("div",{className:"mt-3",children:s.jsxs(u,{className:"daily-goal-btn",id:"addDailyGoal",variant:"falcon-default",size:"sm",type:"button",onClick:()=>d(!0),children:[s.jsx("i",{className:"cursor"})," ",t("button.set-daily-goal")]})}),s.jsxs("div",{className:"DailyActivity search mt-3",children:[s.jsx("div",{className:"search-field",children:s.jsx(c,{CreateFormItems:k,register:D,setValue:E,errors:A,control:T})}),s.jsx("div",{className:"mt-3",children:s.jsxs(u,{className:"burnt-cal-btn",variant:"falcon-default",size:"sm",type:"button",onClick:()=>i(!0),children:[s.jsx("i",{className:"ico-plus cursor"})," ",t("button.add-burnt-calories")]})})]})]})})]}),cardContent:s.jsx(g,{cardClass:"CardHeaderNone",cardLight:!1,cardHeader:null,cardTitle:null,cardContent:s.jsx(C.Fragment,{children:s.jsxs("div",{className:"DailyActivity card-content",children:[s.jsxs("div",{className:"dailyActivity",children:[s.jsxs("p",{className:"color1",children:[t("smart-assistant.daily-activity-date"),s.jsx("br",{}),s.jsxs("span",{children:[s.jsx("i",{className:" ico-calendar-3 mr-1 ml-1"}),x(b?.date,"DD/MMM/YYYY")]})]}),s.jsxs("p",{className:"color3",children:[t("smart-assistant.daily-goal"),s.jsx("br",{}),s.jsxs("span",{children:[s.jsx("i",{className:"ico-firewall mr-1"})," ",b?.dailyGoal||"- "+t("smart-assistant.kcal")]})]}),s.jsxs("p",{className:"color3",children:[t("smart-assistant.burnt-calories"),s.jsx("br",{}),s.jsxs("span",{children:[s.jsx("i",{className:"ico-firewall mr-1"})," ",b?.dailyBurntCalories||"- "+t("smart-assistant.kcal")]})]})]}),s.jsx("div",{children:s.jsxs("div",{className:"DailyActivity chart",children:[s.jsxs("p",{className:"DailyActivity goal-content",children:[s.jsx("span",{className:"DailyActivity goal-label",children:t("smart-assistant.goal")}),s.jsxs("span",{className:"DailyActivity goal-field",children:[s.jsx("span",{className:"DailyActivity goal-value",children:y?.goal||"-"})," ",t("smart-assistant.kcal")]})]}),s.jsx("div",{id:"dailyActivity"})]})})]})})})})]})},re=a=>{const{phrId:t,ModelData:l,getDashboard:r,ColLg:i=!1}=a,[n,g]=C.useState(!1),[N,S]=C.useState(!1),[D,I]=C.useState(null),[A,T]=C.useState(!1),[E,k]=C.useState(void 0),{setPageLoading:_}=C.useContext(j),[R,F]=C.useState(null),[M,P]=C.useState(void 0),[w,O]=C.useState(void 0),[B,H]=C.useState(void 0),[V,Y]=C.useState({}),{t:q}=e(),{clearErrors:K,register:G,handleSubmit:z,formState:{errors:X},control:J,setValue:Q}=o(),Z=b(e=>e.roleManageStore.PatientPhysical),ee=(e,a)=>{a&&(e.patientId=a),W.cardiovascularCalculate(e,e=>{a?(T(!1),S(!0),g(!1),r(a)):(T(!0),I(e)),_(!1)})};C.useEffect(()=>{n&&(_(!0),ae(),$("heart_attack_risk_age,administrative_gender,yes_no,heart_attack_risk_cholesterol,heart_attack_risk_blood_pressure",e=>{e.ADMINISTRATIVE_GENDER=e?.ADMINISTRATIVE_GENDER.filter(e=>"other"!==e.name),k(e)},E),f.getHeartAttackParameters(e=>{O(e?.cholesterol),H(e?.bloodPressure)}),U.getSmokingStatus(e=>{P(e)}))},[n]),C.useEffect(()=>{void 0!==E&&void 0!==M&&void 0!==w&&void 0!==B&&(se(),_(!1))},[E,M,w,B]);const ae=()=>{T(!1),S(!0),K()};C.useEffect(()=>{N&&S(!1)},[N]);const se=()=>{let e=E?.ADMINISTRATIVE_GENDER?.find(e=>e.name.toUpperCase()===Z.gender.toUpperCase());const a=Z&&x(Z?.birthDate,"DD/MMM/YYYY")?.substring(7,11),s=x(new Date,"YYYY")-a,t=s<=39?0:s<=49?1:s<=54?2:s<=59?3:s<=64?4:s<=69?5:6,l=w<=149?0:w<=199?1:w<=249?2:w<=299?3:4,r=B<=139?0:B<=159?1:B<=179?2:3,i={gender:e,isSmoker:M?E?.YES_NO?.find(e=>"YES"===e.name.toUpperCase()):E?.YES_NO?.find(e=>"NO"===e.name.toUpperCase()),ageRange:E?.HEART_ATTACK_RISK_AGE?.[t],cholesterolRange:E?.HEART_ATTACK_RISK_CHOLESTEROL?.[l],systolicPressureRange:E?.HEART_ATTACK_RISK_BLOOD_PRESSURE?.[r]};Y(i)},te=[{visibilityState:!0,ColLg:"6",item:"SELECT",itemType:"single",label:q("dashboard.label-age-group"),labelStatus:!0,name:"age",id:"age",className:null,clearItem:N,rowFixed:!1,IsMulti:!1,options:E?.HEART_ATTACK_RISK_AGE,closeMenuOnSelect:!0,defaultValue:V?.ageRange,onChange:e=>Y({...V,ageRange:e}),placeholder:q("dashboard.label-age-group"),required:!0,requiredMessage:q("validation-error-mesaj"),disabled:!1},{visibilityState:!0,ColLg:"6",item:"SELECT",itemType:"single",label:q("dashboard.label-gender"),labelStatus:!0,name:"gender",id:"gender",className:null,rowFixed:!1,IsMulti:!1,clearItem:N,options:E?.ADMINISTRATIVE_GENDER,closeMenuOnSelect:!0,defaultValue:V?.gender,onChange:e=>Y({...V,gender:e}),placeholder:q("dashboard.label-gender"),required:!0,requiredMessage:q("validation-error-mesaj"),disabled:!1},{visibilityState:!0,ColLg:"6",item:"SELECT",itemType:"single",label:q("dashboard.label-cigarettes"),labelStatus:!0,name:"personSmokes",id:"personSmokes",clearItem:N,className:null,rowFixed:!1,IsMulti:!1,options:E?.YES_NO,closeMenuOnSelect:!0,defaultValue:V?.isSmoker,onChange:e=>Y({...V,isSmoker:e}),placeholder:q("dashboard.label-cigarettes"),required:!0,requiredMessage:q("validation-error-mesaj"),disabled:!1},{visibilityState:!0,ColLg:"6",item:"SELECT",itemType:"single",label:q("dashboard.label-total-cholesterol"),labelStatus:!0,name:"cholesterol",id:"cholesterol",className:null,rowFixed:!1,clearItem:N,IsMulti:!1,options:E?.HEART_ATTACK_RISK_CHOLESTEROL,closeMenuOnSelect:!0,defaultValue:V?.cholesterolRange,onChange:e=>Y({...V,cholesterolRange:e}),placeholder:q("dashboard.label-total-cholesterol"),required:!0,requiredMessage:q("validation-error-mesaj"),disabled:!1},{visibilityState:!0,ColLg:"12",item:"SELECT",itemType:"single",label:q("dashboard.label-systolic-blood-pressure"),labelStatus:!0,name:"bloodPressure",id:"bloodPressure",className:null,rowFixed:!1,clearItem:N,IsMulti:!1,options:E?.HEART_ATTACK_RISK_BLOOD_PRESSURE,closeMenuOnSelect:!0,defaultValue:V?.systolicPressureRange,onChange:e=>Y({...V,systolicPressureRange:e}),placeholder:q("dashboard.label-systolic-blood-pressure"),required:!0,requiredMessage:q("validation-error-mesaj"),disabled:!1}];return s.jsxs("div",{className:i?"col-lg-4":"colWidth18 smart-dark-blue",children:[n&&s.jsx(h,{modal:n,modaltitleText:q("dashboard.calculate-risk-of-cardiovascular-disease"),modalWidth:"35%",alignment:"top",toggle:()=>g(!1),modalFooter:A&&s.jsxs(C.Fragment,{children:[s.jsx(u,{id:"CancelBtn",variant:"danger",className:"mr-2",size:"sm",type:"button",onClick:()=>g(!1),children:q("button.cancel")}),s.jsx(u,{id:"reCalculateBtn",className:"mr-2 btn-info",size:"sm",type:"button",onClick:()=>{T(!1),S(!1)},children:q("button.recalculate")}),s.jsx(u,{id:"SaveBtn",variant:"success",size:"sm",type:"button",onClick:()=>ee(R,t),children:q("button.save")})]}),component:A?s.jsxs("div",{className:"min-height-195 heart-health-risk-calculator-modal",children:[s.jsxs("div",{className:"DashboardCard small bg4 box-shadow-none",children:[s.jsx("i",{className:"ico-heart-2 CardIcon "}),s.jsx("div",{className:"header",children:s.jsx("h3",{children:q("dashboard.risk-of-cardiovascular-disease")})}),s.jsx("div",{className:"DashboardContent bmi-card",children:s.jsxs("h3",{children:[D+" %",s.jsx(v,{label:q("dashboard.risk-in10-years"),children:s.jsx("i",{className:"ico-info cursor"})})]})})]}),s.jsx(y,{alertType:"warning",alertIcon:s.jsx("i",{className:"ico-heart-attack-pulse font-size-38"}),alertText:s.jsx(C.Fragment,{children:q("dashboard.RCD-message")})}),s.jsx(y,{alertType:"info",alertText:s.jsxs("p",{className:"mb-0 marginRight20",children:[s.jsx("i",{className:"ico-info"})," "+q("dashboard.RCD-model")]})})]}):E?.HEART_ATTACK_RISK_AGE&&s.jsxs(d,{onSubmit:z(e=>{_(!0);let a={age:e.age,gender:e.gender,personSmokes:"yes"===e.personSmokes.name,cholesterol:e.cholesterol,bloodPressure:e.bloodPressure};F(a),ee(a,null)}),children:[s.jsx(c,{CreateFormItems:te,register:G,setValue:Q,errors:X,control:J}),s.jsxs(m,{xs:12,justify:"end",className:"mt-3",children:[s.jsx(u,{id:"CancelBtn",variant:"danger",className:"mr-2",size:"sm",type:"button",onClick:()=>g(!1),children:q("button.cancel")}),s.jsx(u,{id:"calculateBtn",className:"mr-2",variant:"success",size:"sm",type:"submit",children:q("button.calculate")})]})]})}),s.jsxs("div",{className:"DashboardCard small bg4",children:[s.jsx("div",{className:"DashboardBorder"}),s.jsx("i",{className:"ico-heart-2 CardIcon "}),s.jsx("div",{className:"header",children:s.jsx("h3",{children:q("dashboard.risk-of-cardiovascular-disease")})}),s.jsxs("div",{className:"DashboardContent bmi-card",children:[L(l||"-",!0),s.jsxs("h3",{children:[null!=l?parseInt(l)+"%":"-",s.jsx(v,{label:q("dashboard.risk-in10-years"),children:s.jsx("i",{className:"ico-info cursor"})})]}),s.jsx(p,{resourceName:"menu.smart-assistant",permission:"create",type:"button",children:s.jsx("span",{className:"cursor hoverLink calculate-btn",onClick:()=>{g(!0),ae()},children:s.jsx("b",{children:q("button.calculate")})})})]})]})]})},ie=new class extends i{constructor(){super(`${n.API}/phr`)}ObservationList(e){return super.get("observation/vital-signs/find-by-patient",e)}},ne=()=>{const[e,t]=C.useState(null),l=b(e=>e.roleManageStore.PatientPhysical),[r,i]=C.useState(null);C.useEffect(()=>{n()},[l]);const n=()=>{W.getHeartAttackRisk(e=>{e&&i(e)})};return s.jsx(C.Fragment,{children:s.jsxs(a.Provider,{value:{getSmartAssistantData:()=>new Promise((e,a)=>{ie.ObservationList(a=>{e(a?.content||[])})})},children:[s.jsxs("div",{className:"smartAssistant cards",children:[s.jsx("div",{className:"colWidth18 smart-dark-blue",children:s.jsx(X,{})}),s.jsx("div",{className:"colWidth18",children:s.jsx(z,{PatientInfo:l,SaveStatus:!0})}),s.jsx("div",{className:"colWidth18 smart-light-blue",children:s.jsx(J,{})}),s.jsx("div",{className:"colWidth18 smart-green",children:s.jsx(Q,{})}),s.jsx(re,{ModelData:r,phrId:l?.phrId,getDashboard:n}),s.jsx("div",{className:"colWidth18"})]}),s.jsxs("div",{className:"SmartAssistant",children:[s.jsx(ee,{DiagnosticHistory:e,setDiagnosticHistory:t}),s.jsx("div",{className:"dailyActivityCard",children:s.jsx(le,{})})]})]})})};export{ne as default};
